(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[55123,4394,23113,59959],{972172:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LandingPageStoryHeader_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinImageData_pin"}],type:"Pin",abstractKey:null};r.hash="2ca80f127230811756b1d94bf86ddf43";let s=r},24102:(e,t,i)=>{"use strict";var r,s,n;i.r(t),i.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImageData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_290x",args:[{kind:"Literal",name:"spec",value:"290x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"290x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"ImageDimensions",kind:"LinkedField",name:"imageLargeSizePixels",plural:!1,selections:[r,s],storageKey:null}],type:"Pin",abstractKey:null};l.hash="71ac7cf81c587dc361aa418db3df5c44";let a=l},919479:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/homefeed",function(){return i(259479).Z}])},463608:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/index",function(){return i(904005).Z}])},653286:(e,t,i)=>{"use strict";i.d(t,{H:()=>a});var r=i(573810);let s="business.referral.referral_code",n="business.referral.offer_status",l="claimed",a={setData:({referralCode:e})=>{(0,r.Nh)(s,e)},getData:()=>(0,r.qn)(s),setSenderOfferClaimed:()=>{(0,r.Nh)(n,l)},resetStatus:()=>{(0,r.L_)(s)},shouldClaimReferral:()=>null!==(0,r.qn)(s)&&(0,r.qn)(n)!==l}},672626:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var r=i(667294),s=i(883119),n=i(140017),l=i(339001),a=i(702497),o=i(785893);let d="?source=deactivate_flow";function c(e){let t=(0,n.ZP)(),[i,c]=(0,r.useState)(),[u,h]=(0,r.useState)(),_=(t,i,r)=>{i&&(c(t),h(r),e.onReasonChange(t))},p=[{value:"emails",label:t._('I\u2019m getting too many emails', ' - ', ' -- '),help:(0,l.nk)(t._('Did you know you can change your {{ emailSettings }}?', ' - ', ' -- '),{emailSettings:(0,o.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,o.jsx)(s.rU,{display:"inlineBlock",href:"/settings/notifications",underline:"hover",children:t._('email settings', 'text linking to settings page to edit email', 'text linking to settings page to edit email')})},"link")})},{value:"secondAccount",label:t._('I accidentally made another account', ' - ', ' -- '),help:(0,l.nk)(t._('Don\'t worry about it! If you need it, {{ moreInfo }}', 'DeleteSurveyOptions.multipleAccounts.helpText', 'Survey shown to users when they delete their account: help text for option when user is deleting second account.'),{moreInfo:(0,o.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,o.jsx)(s.rU,{display:"inlineBlock",href:"https://pinterest.com/_/_/help/article/merge-accounts"+d,target:"blank",underline:"hover",children:t._('here\'s more info on multiple accounts', 'text linking to help center to learn about merging accounts', 'text linking to help center to learn about merging accounts')})},"link")})},{value:"privacy",label:t._('I\'m concerned about privacy', ' - ', ' -- '),help:(0,l.nk)(t._('{{ learnMore }} about your privacy settings', ' - ', ' -- '),{learnMore:(0,o.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,o.jsx)(s.rU,{display:"inlineBlock",href:a.fPu+d,target:"blank",underline:"hover",children:t._('Learn more', 'text linking to help center to learn about privacy', 'text linking to help center to learn about privacy')})},"link")})},{value:"businessAccountWanted",label:t._('I want a business account', ' - ', ' -- '),help:(0,l.nk)(t._('Did you know you can {{ convertToBusiness }}?', ' - ', ' -- '),{convertToBusiness:(0,o.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,o.jsx)(s.rU,{display:"inlineBlock",href:a.KDH,underline:"hover",children:t._('convert to a business account', 'text linking to help center to learn about privacy', 'text linking to help center to learn about privacy')})},"link")})},{value:"other",label:t._('Other', ' - ', ' -- '),help:null}];return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(s.FX,{id:"delete-survey-options",legend:t._('Tell us why you\'re leaving', 'deleteAccountSurveyModal.title', 'Delete Account Survey modal title'),legendDisplay:"hidden",children:(e.isPartner?p.filter(e=>"businessAccountWanted"!==e.value):p).map(e=>(0,o.jsx)(s.xu,{children:(0,o.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,o.jsx)(s.xu,{paddingX:2,paddingY:2,children:(0,o.jsx)(s.FX.RadioButton,{checked:i===e.value,id:e.value,name:"reason",onChange:({checked:t})=>_(e.value,t,e.help),size:"sm",value:e.value},e.value)}),(0,o.jsx)(s.xu,{paddingX:1,children:(0,o.jsx)(s.__,{htmlFor:e.value,children:(0,o.jsx)(s.xv,{children:e.label})})})]},e.value)},e.value))}),i&&u?(0,o.jsx)(s.xu,{"data-test-id":"deleteHelp",children:(0,o.jsx)(s.xu,{alignItems:"center",display:"flex",marginTop:4,paddingY:2,children:(0,o.jsx)(s.xv,{inline:!0,children:u})})}):null]})}},150396:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var r=i(883119),s=i(401429),n=i(930837),l=i(256683),a=i(325362),o=i(862249),d=i(554786),c=i(983983),u=i(785893);let h=new r.Ry(c.fe),_=new r.H3([h]);function p({experience:e,placementId:t}){let i=(0,d.ml)();return(0,u.jsx)(s.Z,{eligibleTypes:[14],experience:e,placementId:t,children:({complete:e,dismiss:t,experience:{display_data:s}})=>{let{titleText:d,detailedText:c,completeButton:h,dismissButton:p}=(0,l.Z)(a.Z)(s),m=i?"center":"start",x=!!h&&(0,o.Z)({url:h.uri});return(0,u.jsx)(r.mh,{zIndex:_,children:(0,u.jsx)(n.ZP,{accessibilityModalLabel:d,footer:(0,u.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:i?"center":"end",children:[p&&(0,u.jsx)(r.xu,{fit:!0,flex:i?"grow":"none",minWidth:i?130:void 0,padding:1,children:(0,u.jsx)(r.zx,{color:"gray",fullWidth:i,onClick:t,size:"lg",text:p.text})}),h&&(0,u.jsx)(r.xu,{fit:!0,flex:i?"grow":"none",minWidth:i?130:void 0,padding:1,children:(0,u.jsx)(r.ZP,{color:"red",fullWidth:i,href:h.uri,onClick:()=>e(),rel:x?"nofollow":"none",size:"lg",text:h.text})})]}),heading:(0,u.jsx)(r.xu,{marginTop:i?2:0,children:(0,u.jsxs)(r.kC,{justifyContent:"between",children:[(0,u.jsx)(r.X6,{accessibilityLevel:1,size:"500",children:d}),!i&&(0,u.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})]})}),onDismiss:t,size:"sm",children:(0,u.jsx)(r.xu,{padding:6,children:(0,u.jsx)(r.xv,{align:m,children:c})})})})}})}},220585:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var r=i(401429),s=i(836815),n=i(256683),l=i(325362),a=i(785893);let o=({placementId:e})=>(0,a.jsx)(r.Z,{placementId:e,predicate:e=>e.display_data?.component_type===1,children:({complete:e,dismiss:t,experience:{display_data:i}})=>{let r=(0,n.Z)(l.Z)(i);return(0,a.jsx)(s.Z,{displayData:r,onComplete:()=>e(),onDismiss:t})}})},368885:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var r=i(667294),s=i(401429),n=i(883119),l=i(930837),a=i(140017),o=i(862249),d=i(785893);function c(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends r.Component{constructor(...e){super(...e),c(this,"state",{surveyLoaded:!1}),c(this,"loadSurvey",()=>{this.setState({surveyLoaded:!0}),this.props.view?.()}),c(this,"handleDismiss",()=>{this.props.dismiss(),this.setState({surveyLoaded:!1})}),c(this,"handleComplete",()=>{this.props.complete(),this.setState({surveyLoaded:!1})})}componentDidMount(){let{displayData:{delay:e}}=this.props;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}componentWillUnmount(){clearTimeout(this.surveyTimer)}render(){if(!this.state.surveyLoaded)return null;let{displayData:{buttons:e,detailed_text:t,title_text:i}}=this.props;return(0,d.jsx)(l.ZP,{accessibilityModalLabel:this.props.i18n._('Would you mind taking a survey?', 'User eval survey', 'User eval survey'),footer:(0,d.jsx)(n.kC,{alignItems:"stretch",justifyContent:"end",children:e.map(e=>{if(!e.uri)return(0,d.jsx)(n.xu,{marginStart:1,children:(0,d.jsx)(n.zx,{fullWidth:!0,onClick:this.handleDismiss,text:e.text})},e.text);{let t=e.uri,i=(0,o.Z)({url:t});return(0,d.jsx)(n.xu,{marginStart:1,children:(0,d.jsx)(n.ZP,{color:"red",fullWidth:!0,href:t,onClick:this.handleComplete,rel:i?"nofollow":"none",target:"blank",text:e.text})},e.text)}})}),heading:i,onDismiss:this.handleDismiss,size:"sm",children:(0,d.jsx)(n.xu,{padding:3,children:(0,d.jsx)(n.xv,{children:t})})})}}function h(e){let t=(0,a.ZP)();return(0,d.jsx)(u,{...e,i18n:t})}var _=i(616550),p=i(340523);function m(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class x extends r.Component{constructor(...e){super(...e),m(this,"isOnClose",this.props.onCloseEnabled&&2===this.props.actionTrigger),m(this,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:this.isOnClose}),m(this,"loadSurvey",(e=!0)=>{let{onView:t}=this.props;e&&t(),this.setState({surveyLoaded:!0})}),m(this,"processIFrameMessage",e=>{let{presentationDelay:t=5e3,onComplete:i,surveyLink:r,onCloseEnabled:s}=this.props,n=e.origin||e.originalEvent.origin;r.startsWith(n)&&("surveyFinished"===e.data?i():"surveyLoaded"===e.data&&(window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.showSurveyOnLeavingPage(),s?this.actionTriggerHandler():this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)))}),m(this,"handleShowSurvey",()=>{this.setState({surveyAccepted:!0})})}componentDidMount(){window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout(()=>{this.state.surveyLoaded||(window.clearTimeout(this.loadSurveyTimeout),this.setState({surveyLoadFailed:!0}))},15e3)}componentWillUnmount(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}actionTriggerHandler(){let{actionTrigger:e,presentationDelay:t=5e3}=this.props;switch(e){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)}}showSurveyOnLeavingPage(){let{onView:e,block:t}=this.props;t(()=>{e(),this.setState({showSurveyOnClose:!1})})}render(){let{surveyAccepted:e,surveyLoadFailed:t,surveyLoaded:i,showSurveyOnClose:r}=this.state;if(t)return null;let{acceptButtonText:s,bodyText:l,declineButtonText:a,onDismiss:o,subtitleText:c,surveyLink:u,titleText:h}=this.props,_=(0,d.jsx)("iframe",{"data-test-id":"anket-iframe",src:u,style:e?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},title:this.props.i18n._('Pinterest Survey', 'Accessible label for survey frame', 'Accessible label for survey frame')});return i&&!r?(0,d.jsx)(n.xu,{position:"absolute",zIndex:new n.Ry(1e3),children:(0,d.jsxs)(n.u_,{accessibilityModalLabel:this.props.i18n._('Have a few minutes to take a survey?', 'User evaluation survey', 'User evaluation survey'),footer:!e&&(0,d.jsxs)(n.xu,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,d.jsx)(n.zx,{fullWidth:!0,onClick:()=>{this.setState({surveyAccepted:!1}),o()},text:a})}),(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,d.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:this.handleShowSurvey,text:s})})]}),heading:e?"":h,onDismiss:o,padding:"none",role:"alertdialog",size:e?"lg":"md",children:[(0,d.jsx)(n.xu,{children:_}),!e&&(0,d.jsxs)(n.xu,{padding:3,children:[(0,d.jsx)(n.xv,{children:c}),(0,d.jsx)(n.xv,{children:l})]})]})}):_}}let g=function(e){let t=(0,a.ZP)(),{checkExperiment:i}=(0,p.F)(),s=(0,_.k6)(),[n,l]=(0,r.useState)(null),o=(0,r.useRef)(null);return(0,d.jsx)(x,{...e,block:e=>{o.current=s.block((t,i)=>(l({location:t,action:i}),e(),!1))},i18n:t,onCloseEnabled:i("discovery_measurements_on_close_survey").anyEnabled,unblock:()=>{if(o&&o.current?.(),n){let{location:e,action:t}=n;"PUSH"===t?s.push(`${e.pathname}${e.search}`):"POP"===t&&s.goBack()}}})},y=e=>{let{complete:t,dismiss:i,view:r,displayData:s}=e,{anket:n,buttons:l,delay:a,detailed_text:o,subtitle_text:c,title_text:u,action_trigger:_=3}=s,[p,m]=l;return n?(0,d.jsx)(g,{acceptButtonText:m.text,actionTrigger:_,bodyText:o,declineButtonText:p.text,onComplete:t,onDismiss:i,onView:r,presentationDelay:a,subtitleText:c,surveyLink:m.uri,titleText:u}):(0,d.jsx)(h,{complete:t,dismiss:i,displayData:s,view:r})},f=e=>{let{experienceId:t,displayData:i}=e,{delay:s=0}=i,n={...i,delay:0},l={...e,displayData:{...n}},a=(0,r.useRef)(),[o,c]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=["/pin-builder","/idea-pin-builder"],t=e=>window.location.pathname.includes(e),i=()=>e.some(t),r=()=>{i()?a.current=setTimeout(()=>r(),3e3):c(!0)};return a.current=setTimeout(()=>r(),s),()=>{clearTimeout(a.current)}},[t,s]),o?(0,d.jsx)(y,{...l}):null};function b(e){let{placementId:t,experience:i,targeting:r,eligibleIds:n}=e;return(0,d.jsx)(s.Z,{disableAutoView:!0,eligibleIds:n||[],eligibleTypes:[5],experience:i,placementId:t,targeting:r,children:({complete:e,dismiss:i,view:r,experience:s})=>{let n=s.display_data,l=s.experience_id;return 1000421===t?(0,d.jsx)(f,{complete:e,dismiss:i,displayData:n,experienceId:l,view:r}):(0,d.jsx)(y,{complete:e,dismiss:i,displayData:n,view:r})}})}},810961:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var r=i(667294),s=i(73006),n=i(219651),l=i(368885),a=i(321329),o=i(839391),d=i(785893);let c=({placementId:e})=>{let{experienceForPlacement:t}=(0,a.Z)(e),{unmountPlacement:i,registerAfterActionPlacement:c}=(0,o.Z)();return(0,r.useEffect)(()=>(c(e),()=>{i(e)}),[e,i,c]),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(n.Z,{experience:t}),(0,d.jsx)(l.default,{experience:t}),(0,d.jsx)(s.Z,{experience:t})]})}},82531:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var r=i(667294),s=i(810961),n=i(190971),l=i(28449),a=i(785893);let o=({placementId:e})=>{let t=(0,n.c)(),i=(0,l.Z)();return(0,r.useEffect)(()=>{let e=e=>{let{clickthroughProperties:i,offsiteTimedPair:r}=e;(i?.aux_data?.time_to_offsite??5e8)<5e8&&t("Clickthrough",{is_promoted:i?.aux_data?.is_promoted,pin_id:i?.object_id_str,clickthrough_duration_ns:r?.duration})};return e&&i?.onOffsiteEnd(e),()=>{e&&i?.removeOnOffsiteEnd(e)}},[t,i]),(0,a.jsx)(s.Z,{placementId:e})}},836815:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var r=i(883119),s=i(213377),n=i(140017),l=i(406893),a=i(887582),o=i(862249),d=i(785893);let c=(s.yF+s.lX)*s.yc-s.lX,u=Array.from(Array(s.g5-s.yc).keys()).reduce((e,t)=>{let i=t+s.yc,r=(s.yF+s.lX)*i-s.lX;return e+(0,s.KN)(s.yF,i,i,`.banner-content {
          width: ${r}px;
          min-width: ${r}px;
        }`,s.lX)},`.banner-content {
      width: ${c}px;
      min-width: ${c}px;
  }`);function h(e){let t=(0,n.ZP)(),{displayData:{backgroundColorNarrow:i,backgroundColorWide:s,backgroundImageNarrow:c,backgroundImageWide:h,canClose:_,completeButtonText:p,coverImage:m,dismissButtonText:x,iconImage:g,layoutNarrow:y,layoutWide:f,links:b=[],linkTitles:v=[],message:j,onCompleteRedirectUrl:w,onDismissRedirectUrl:P,textColorNarrow:S,textColorWide:k,titleText:A,external:T},onComplete:C,onDismiss:I}=e,{windowWidth:z}=(0,a.Z)(),Z=z<=480,L=Z?y:f,D=!Z&&3!==L,E=Z?i:s,F=Z?S:k,{altText:B,uri:H}=(Z?c:h)||{},{altText:M,uri:R}=m||{},{altText:W,uri:O}=g||{},U=Z&&2===L||!Z&&2===L,N=Z?"96px":"48px",q=Z&&3===L,X=p&&!w&&(0,d.jsx)(r.zx,{color:"white",onClick:({event:e})=>{C?.(e)},text:p}),$=(0,o.Z)({url:w}),K=p&&w&&(0,d.jsx)(r.ZP,{color:"white",href:w,onClick:({event:e})=>{C?.(e)},rel:$?"nofollow":"none",size:"lg",target:T?"blank":void 0,text:p},"naglink"),Y=(0,o.Z)({url:P}),G=x&&P&&(0,d.jsx)(r.ZP,{color:"white",href:P,onClick:({event:e})=>{I?.(e)},rel:Y?"nofollow":"none",size:"lg",target:T?"blank":void 0,text:x},"naglink"),V=x&&!P&&(0,d.jsx)(r.zx,{color:"white",onClick:({event:e})=>{I?.(e)},size:"lg",text:x}),J=_&&(0,d.jsx)(r.hU,{accessibilityLabel:t._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",icon:"cancel",iconColor:"gray",onClick:({event:e})=>{I?.(e)},size:"md"}),Q=b.reduce((e,t,i)=>{let r=t.startsWith("https://")||t.startsWith("http://")?'rel="noreferrer noopener" target="_blank"':"",s=`<a href="${t}" ${r}>${v[i]}</a>`;return e.replace(`{${i}}`,s)},j),ee={backgroundColor:E,backgroundImage:!H||U||q?void 0:`url(${H})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,d.jsxs)(r.xu,{direction:D?"row":"column",display:"flex",marginBottom:5,marginEnd:2,marginStart:2,marginTop:2,children:[(0,d.jsx)(l.Z,{unsafeCSS:u}),(0,d.jsx)("div",{className:"banner-content",style:{borderRadius:"16px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",margin:"0 auto"},children:(0,d.jsxs)(r.zd,{rounding:4,width:"100%",children:[q&&R&&(0,d.jsx)(r.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,d.jsx)(r.Ee,{alt:M||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:R})}),(0,d.jsxs)(r.xu,{alignItems:"center","aria-label":B,dangerouslySetInlineStyle:{__style:ee},direction:D?"row":"column",display:"flex",justifyContent:"between",marginTop:q?-2:0,padding:6,children:[(0,d.jsxs)(r.kC,{alignItems:"center",direction:D?"row":"column",justifyContent:"between",maxWidth:D?void 0:"560px",children:[U&&O&&(0,d.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:D?0:6,marginEnd:D?4:0,children:(0,d.jsx)(r.xu,{height:N,width:N,children:(0,d.jsx)(r.zd,{rounding:D?4:6,children:(0,d.jsx)(r.Ee,{alt:W||"icon",naturalHeight:1,naturalWidth:1,src:O})})})}),!D&&A&&(0,d.jsx)(r.xv,{align:"center",weight:"bold",children:(0,d.jsx)("div",{className:"banner-title",style:{color:F,fontSize:"28px",marginBottom:"8px"},children:A})}),Q&&(0,d.jsxs)(r.xv,{align:D?"start":"center",overflow:"normal",children:[(0,d.jsx)("style",{dangerouslySetInnerHTML:{__html:`
                        .banner-text a {
                          color: ${F||""};
                          font-weight: bold;
                        }`}}),(0,d.jsx)("div",{className:"banner-text",dangerouslySetInnerHTML:{__html:Q},style:{color:F}})]})]}),(0,d.jsx)(r.xu,{marginBottom:D?0:-1,marginStart:D?4:0,marginTop:D?0:4,children:(0,d.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",wrap:!D,children:[V||G,X||K,J]})})]})]})})]})}},200201:(e,t,i)=>{"use strict";i.d(t,{_:()=>o,a:()=>d});var r=i(667294),s=i(545007),n=i(105737),l=i(25919),a=i(5859);let o=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{let o=(0,r.useRef)(),d=(0,s.I0)(),{isBot:c}=(0,a.B)(),u=(0,s.v9)(e=>e.experiences[t]);return(0,r.useEffect)(()=>{d((0,l.kd)(t))},[d,u,t]),(0,r.useEffect)(()=>{i||(0,n.ZP)(o.current,e)||(d((0,l.pz)([t],c,e)),o.current=e)},[d,e,c,t,i]),u},d=e=>(o(e),(0,s.v9)(t=>t.experiencesMulti[e.id]))},857916:(e,t,i)=>{"use strict";i.d(t,{Di:()=>h,Jl:()=>d,R:()=>c,ZP:()=>g,aU:()=>_,j2:()=>u,pN:()=>p,rL:()=>y,vW:()=>x});var r=i(883119),s=i(205841),n=i(454514),l=i(339001),a=i(624797),o=i(785893);let d=1e4,c="permanent_account_closure",u="account_deletion_email_sent",h="account_deactivated",_="unlink_successful",p="account_switch_to_settings";function m(e,t,i){return(0,o.jsx)(r.xv,{align:i||"center",children:(0,l.nk)(e,{username:(0,o.jsx)(r.xv,{inline:!0,weight:"bold",children:t})})})}function x({i18n:e,message:t,multipleAccounts:i,username:r=""}){switch(t){case c:return e._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:if(i)return m(e._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),r);return m(e._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),r);case h:return m(i?e._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):e._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),r);case _:return m(e._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),r,"start");case p:return m(e._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),r,"start");default:return""}}function g(e,t,i=""){if(!(t&&t.search))return"";let{message:r}=(0,a.mB)(t.search),s=(0,a.mB)(t.search).username||i;return x({i18n:e,message:r,multipleAccounts:"true"===(0,a.mB)(t.search).multiple_accounts,username:s})}function y({showOneToast:e,i18n:t,location:i,history:r,username:l,fullName:c,avatarUrl:u}){if(!(i&&i.search))return;let h=g(t,i,l||""),{message:m}=(0,a.mB)(i.search),x=m===p||m===_;h&&(e(({hideToast:e})=>(0,o.jsx)(n.ZP,{duration:d,onHide:e,text:h,thumbnail:x?{avatar:(0,o.jsx)(s.qE,{name:c||"",size:"md",src:u||""})}:void 0})),r.replace(i.hash?`${i.pathname}${i.hash}`:i.pathname))}},887582:(e,t,i)=>{"use strict";function r(){let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}i.d(t,{Z:()=>r})},154779:(e,t,i)=>{"use strict";function r(e,t){let i;if(e.error){let{httpStatus:r,api_error_code:s,redirectUrl:n}=e.error;(404===r||401===r&&7===s)&&(i={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===r&&n&&(i={pathname:n})}return i}i.d(t,{Z:()=>r})},251843:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var r=i(883119),s=i(785893);function n({accessibilityLabel:e}){return(0,s.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,s.jsx)(r.$j,{accessibilityLabel:e,show:!0})})}},423113:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var r=i(616550),s=i(883119),n=i(214877),l=i(549629),a=i(930837),o=i(140017),d=i(339001),c=i(702497),u=i(554786),h=i(447749),_=i(785893);let p=function({complete:e}){let t=(0,u.HG)(),i=(0,o.ZP)(),p=(0,r.k6)(),{logContextEvent:m}=(0,n.v)();(0,l.Q)({view_type:567,view_parameter:3945});let x=i._('Looks like you\'re in Quebec', 'PrivacyNotice.Header', 'Header for blocking privacy setting modal'),g=(0,d.nk)(i._('To continue using Pinterest, you\u2019ll need to confirm your current privacy and data settings or manage them. For more about how we use your data, review our {{ privacyPolicy }}.', 'PrivacyNotice.Description', 'Description text informing user on how Pinterest uses data. privacySettings: link to user\'s privacy settings. privacyPolicy: link to privacy policy help center page'),{privacyPolicy:(0,_.jsx)(s.rU,{display:"inlineBlock",href:c.R_9,target:"blank",children:i._('privacy policy', 'PrivacyNotice.Description.PrivacyPolicy', 'Link\xA0to help center on privacy policy')})}),y=i._('Confirm settings', 'PrivacyNotice.Button.Confirm', 'Button to confirm current privacy settings'),f=i._('Manage settings', 'PrivacyNotice.Button.GoToSettings', 'Button to change current privacy settings'),b={text:y,accessibilityLabel:y,color:"gray",onClick:()=>{m({event_type:t?101:102,view_parameter:3945,element:14058}),e()}},v={text:f,accessibilityLabel:f,color:"gray",onClick:()=>{m({event_type:t?101:102,view_parameter:3945,element:14059}),e(),p.push(c.Gxc)}};return t?(0,_.jsx)(a.ZP,{accessibilityModalLabel:x,align:"start",closeOnOutsideClick:!1,footer:(0,_.jsxs)(s.kC,{gap:2,justifyContent:"end",children:[(0,_.jsx)(s.zx,{color:b.color,onClick:b.onClick,text:b.text}),(0,_.jsx)(s.zx,{color:v.color,onClick:v.onClick,text:v.text})]}),heading:(0,_.jsx)(s.kC,{justifyContent:"between",children:(0,_.jsx)(s.X6,{accessibilityLevel:1,size:"400",children:x})}),onDismiss:()=>{},children:(0,_.jsx)(s.xu,{paddingX:6,children:(0,_.jsx)(s.xv,{children:g})})}):(0,_.jsx)(h.Z,{accessibilityModalLabel:x,closeOnOutsideClick:!1,description:g,heading:x,headingSize:"400",primaryBtnParams:b,secondaryBtnParams:v,textAlign:"start"})}},274262:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var r=i(883119),s=i(785893);function n({ariaHidden:e=!1,color:t="darkGray",size:i}){return(0,s.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,s.jsx)(r.xv,{color:t,inline:!0,size:i??"200",children:"·"})})}},762631:(e,t,i)=>{"use strict";function r({top:e,right:t,bottom:i,left:r,windowHeight:s,windowWidth:n,threshold:l=0}){return e>=0+l&&r>=0+l&&i<=s-l&&t<=n-l}i.d(t,{Z:()=>r})},386008:(e,t,i)=>{"use strict";i.d(t,{Tt:()=>u,cm:()=>c,kW:()=>o,kY:()=>h,mN:()=>d});var r=i(545007),s=i(342513),n=i(149722),l=i(785893);let{Provider:a,useHook:o}=(0,s.Z)("Users");function d(){let e=o();return t=>e[t]}function c(){let e=o();return(t,i=!1)=>{let r=Object.keys(e).find(i=>e[i].username===t);if(r||!i)return e[r??""]}}function u(){let{id:e}=(0,n.Z)();return o()[e??""]}function h({children:e}){let t=(0,r.v9)(({users:e})=>e,r.wU);return(0,l.jsx)(a,{value:t,children:e})}},851597:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var r=i(545007),s=i(616550),n=i(154779),l=i(757640),a=i(785893);function o({children:e,name:t,noCache:i,options:o,selector:d,schema:c}){let u=(0,l.Z)({name:t,options:o,schema:c,noCache:i}),{error:h,..._}=u,p=(0,n.Z)(u),m=(0,r.v9)(d||(()=>{}));return p?(0,a.jsx)(s.l_,{to:p}):e({..._,selected:m})}},168477:(e,t,i)=>{"use strict";i.d(t,{FC:()=>d,FP:()=>a,M0:()=>l,RQ:()=>s,Xq:()=>c,Y_:()=>n,s0:()=>r,sN:()=>u,z9:()=>o});let r=44,s=76,n=64,l=236,a=157,o=320,d=213,c=7,u=["pinterest","pinterest_canada","PinterestUK","pinterestfr","pinterestde","PinterestIT","pinterestespana","PinterestAustralia","pinterestindia","pinterestindonesia","pinterestjp","pinterestbr","pinterestmx","pinterestar","beauty","fashion","homedecor","food","inspiration","inspiringideas","aesthetics","shop"]},844998:(e,t,i)=>{"use strict";i.d(t,{E:()=>l,S:()=>a});var r=i(667294),s=i(191313);let n="_loggingInNotHome",l=e=>{e?(0,s.Nh)(n,1):(0,s.L_)(n)},a=()=>{let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),e&&(0,s.qn)(n)}},768141:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var r=i(240684),s=i(5859),n=i(554786),l=i(705519),a=i(340913),o=i(118923),d=i(832853),c=i(785893);let u=(0,r.ZP)({resolved:{},chunkName:()=>"UnauthHomePage",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(37536),i.e(49506),i.e(17925),i.e(78559)]).then(i.bind(i,737027)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return i(this.resolve(e))},resolve:()=>737027}),h=(0,d.Z)(()=>Promise.all([i.e(37536),i.e(49506),i.e(17925),i.e(78559)]).then(i.bind(i,737027)),void 0,"UnauthHomePage");function _(){let e=(0,n.ZP)(),{isAuthenticated:t}=(0,s.B)(),i=(0,o.b)();return t?"desktop"===e?(0,c.jsx)(l.Z,{}):(0,c.jsx)(a.default,{}):i?(0,c.jsx)(h,{}):(0,c.jsx)(u,{})}},340913:(e,t,i)=>{"use strict";i.r(t),i.d(t,{HomePage:()=>ta,default:()=>td});var r,s,n=i(667294),l=i(545007),a=i(616550),o=i(883119),d=i(216167),c=i(324358),u=i(653286),h=i(510989),_=i(401429),p=i(150396),m=i(220585),x=i(73006),g=i(219651),y=i(810961),f=i(82531),b=i(200201),v=i(454514),j=i(140017),w=i(165706),P=i(179425),S=i(11453),k=i(340523),A=i(297329),T=i(603642),C=i(438555),I=i(5859),z=i(757640),Z=i(608516),L=i(251843),D=i(423113),E=i(191313),F=i(573810),B=i(627408),H=i(217058),M=i(13848),R=i(624797),W=i(554786),O=i(149722),U=i(801690),N=i(214877),q=i(672626),X=i(372085),$=i(930837),K=i(857916),Y=i(785893);function G({onDismiss:e,isPartner:t,userId:i,username:r}){let s=(0,j.ZP)(),[l,a]=(0,n.useState)(null),{showToast:d}=(0,M.F9)(),{logContextEvent:c}=(0,N.v)(),u=(0,z.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:i}}),h=u.data?.businesses??[],_=async()=>{try{await (0,X.Z)({url:"/v3/users/request_delete/",method:"POST"}),c({event_type:42,object_id_str:i,aux_data:{reason:l}}),d(({hideToast:e})=>(0,Y.jsx)(v.ZP,{duration:K.Jl,onHide:e,text:(0,K.vW)({i18n:s,message:K.j2,multipleAccounts:h.length>0,username:r||""})})),e()}catch{d(({hideToast:e})=>(0,Y.jsx)(v.ZP,{onHide:e,text:s._('Sorry! Something went wrong on our end. Please try again.', 'deleteAccountSurvey.sendEmail.error', 'Something went wrong on our end while trying to send final email for delete account')}))}};return(0,Y.jsx)($.ZP,{accessibilityModalLabel:"",isOpen:!0,onDismiss:e,type:"delete_account_survey",children:(0,Y.jsxs)(o.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:5,marginTop:2,paddingX:4,paddingY:3,children:[(0,Y.jsx)(o.X6,{align:"center",size:"500",children:s._('Tell us why you\'re leaving', 'deleteAccountSurveyModal.title', 'Delete Account Survey modal title')}),(0,Y.jsx)(o.xu,{marginBottom:8,marginTop:8,children:(0,Y.jsx)(q.Z,{isPartner:t,onReasonChange:a})}),(0,Y.jsxs)(o.kC,{gap:{row:2,column:0},justifyContent:"center",children:[(0,Y.jsx)(o.zx,{color:"gray",onClick:e,size:"lg",text:s._('Cancel', 'deleteAccountSurveyModal.cancelButton', 'Close button on unlink account expired link modal')}),(0,Y.jsx)(o.zx,{color:"red",disabled:u.isFetching||!l,onClick:()=>{_()},size:"lg",text:s._('Send email', 'deleteAccountSurveyModal.sendEmailButton', 'Close button on unlink account expired link modal')})]})]})})}var V=i(237040),J=i(25919),Q=i(406893),ee=i(862249);function et(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ei extends n.Component{constructor(...e){super(...e),et(this,"onButton1Click",e=>{if(!e){let{dismissExperience:e,experience:t}=this.props;t&&t.placement_id&&t.experience_id&&e(t.placement_id,t.experience_id)}}),et(this,"onButton2Click",e=>{if(1===e||2===e){let{completeExperience:e,experience:t}=this.props;t&&t.placement_id&&t.experience_id&&e(t.placement_id,t.experience_id)}}),et(this,"isExternalLink",e=>e.startsWith("https://")||e.startsWith("http://"))}render(){let{experience:e}=this.props;if(!e||2!==e.type||!e.display_data)return null;let{background_color_mweb:t,button1_color_mweb:i,button1_text:r,button1_uri:s,button2_color_mweb:n,button2_text:l,button2_uri:a,complete_action:d,detailed_text:c,detailed_text_with_links:u,detailed_text_align:h,primary_color_mweb:_,title_text:p,title_text_align:m}=e.display_data;return(0,Y.jsxs)(o.xu,{color:t?null:"darkGray",dangerouslySetInlineStyle:t?{__style:{backgroundColor:t||"darkGray"}}:null,marginBottom:3,paddingX:6,paddingY:6,rounding:4,children:[p&&(0,Y.jsx)(o.xv,{align:m||"start",color:_||"inverse",overflow:"normal",weight:"bold",children:(0,Y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"20px"}},children:p})}),(u||c)&&(0,Y.jsxs)(o.xv,{align:h||"start",color:_||"inverse",overflow:"normal",children:[(0,Y.jsx)(Q.Z,{unsafeCSS:`
                  .nag-text a {
                    color: white;
                    text-decoration: underline;
                  }`}),(0,Y.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:u||c},style:{marginTop:"8px"}})]}),(0,Y.jsxs)(o.xu,{display:"flex",justifyContent:"between",marginEnd:-2,marginStart:-2,marginTop:4,children:[r&&(0,Y.jsx)(o.xu,{column:6,flex:"grow",paddingX:1,children:s?(0,Y.jsx)(o.ZP,{accessibilityLabel:r,color:i||"transparent",href:s,rel:this.isExternalLink(s)?"nofollow":void 0,target:this.isExternalLink(s)?"blank":void 0,text:r}):(0,Y.jsx)(o.zx,{color:i||"transparent",fullWidth:!0,onClick:()=>this.onButton1Click(s),text:r})}),l&&(0,Y.jsx)(o.xu,{column:6,flex:"grow",paddingX:1,children:a?(0,Y.jsx)(o.ZP,{accessibilityLabel:l,color:n||"white",href:a,onClick:()=>this.onButton2Click(d),rel:(0,ee.Z)({url:a})?"nofollow":void 0,target:this.isExternalLink(a)?"blank":void 0,text:l}):(0,Y.jsx)(o.zx,{color:n||"white",fullWidth:!0,onClick:()=>this.onButton2Click(d),text:l})})]})]})}}function er(e){let t=(0,l.I0)(),i=(0,J.be)(),r=(0,J.Am)();return(0,Y.jsx)(ei,{...e,completeExperience:(e,r)=>t(i(e,r)),dismissExperience:(e,i)=>t(r(e,i))})}var es=i(784245),en=i(254292),el=i(982388),ea=i(775089),eo=i(771881),ed=i(481177),ec=i(339001);function eu({board:{id:e,name:t,image_cover_url:i,pin_count:r,section_count:s=0,privacy:l,is_collaborative:a,collaborating_users:d,owner:c,url:u=""}}){let h,_,p;let m=(0,O.Z)(),x=(0,j.ZP)(),{checkExperiment:g}=(0,k.F)(),{logContextEvent:y}=(0,N.v)(),f=l===ed.Z.BoardPrivacy.SECRET?g("hfp_secret_board_tabs_api_mweb",{dangerouslySkipActivation:!0}).group:"";f&&(h=f.includes("icon")||"employees"===f,_=f.includes("label")||"employees"===f,p="enabled_label_variant"===f);let b=m.isAuth?m.id:"",v=[c].concat(d);return(0,Y.jsx)(o.Tg,{href:u,mouseCursor:"pointer",onTap:()=>{y({event_type:102,component:13204,element:13285,view_type:1,view_parameter:3173,aux_data:{board_id:e,board_pin_count:r??0,referrer:19,is_own_board:c?.id===b}})},rounding:2,children:(0,Y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:8,paddingBottom:12}},paddingX:4,children:(0,Y.jsx)(o.st,{children:(0,Y.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,Y.jsxs)(o.xu,{flex:"none",overflow:"hidden",position:"relative",rounding:1,children:[(0,Y.jsx)(o.zd,{height:48,rounding:2,width:48,children:i?(0,Y.jsx)(o.Ee,{alt:(0,ec.nk)(x._('{{name}} board', 'homefeedMoreIdeasTabHeader.tapArea.accessibilityLabel', 'Accessibility label for the tap area that navigates to a board. name: the name of the board'),{name:t}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:i}):(0,Y.jsx)(o.xu,{color:"secondary",height:"100%",width:"100%"})}),h&&(0,Y.jsx)(o.xu,{display:"flex",height:48,left:!0,position:"absolute",top:!0,width:48,children:(0,Y.jsx)(o.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",opacity:.9,rounding:"circle",width:24,children:(0,Y.jsx)(o.JO,{accessibilityLabel:x._('Secret board', 'homefeedMoreIdeasTabHeader.secretBoardIcon', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0,size:12})})})]}),(0,Y.jsxs)(o.xu,{marginStart:2,children:[(0,Y.jsx)(o.X6,{size:"400",children:t}),(0,Y.jsxs)(o.xv,{inline:!0,size:"100",children:[p&&(0,Y.jsxs)(n.Fragment,{children:[(0,Y.jsx)(o.JO,{accessibilityLabel:x._('Secret board', 'homefeedMoreIdeasTabHeader.secretBoardIcon', 'Accessibility label for icon indicating a secret board'),color:"subtle",icon:"lock",inline:!0,size:12})," "]}),_&&(0,Y.jsxs)(n.Fragment,{children:[x._('Secret board', 'homefeedMoreIdeasTabHeader.secretBoardText', 'subtitle on more ideas tab header for secret boards'),(0,Y.jsx)("span",{children:" • "})]}),(0,ec.nk)(x.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', r ?? 0, 'homefeedMoreIdeasTabHeader.PinCount', 'PinCount: Number of Pins on board'),{PinCount:r}).join(""),"number"==typeof s&&s>0&&!_&&(0,Y.jsxs)(n.Fragment,{children:[(0,Y.jsx)("span",{children:" • "}),(0,ec.nk)(x.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', s ?? 0, 'homefeedMoreIdeasTabHeader.sectionCount', 'sectionCount: Number of sections on the board'),{sectionCount:s}).join("")," "]})]})]}),(0,Y.jsx)(o.xu,{flex:"grow"}),a&&(0,Y.jsx)(o.xu,{flex:"none",marginStart:3,children:d&&(0,Y.jsx)(o.HE,{accessibilityLabel:x._('Collaborative board', 'homefeedMoreIdeasTabHeader.avatarGroup.isCollaborativeBoard', 'Accessibility label for avatar group indicating a collaborative board'),collaborators:v.map(e=>({name:e?.full_name??"",src:e?.image_medium_url?.endsWith("/default_75.png")?"":e?.image_medium_url??""})),size:"xs"})})]})})})})}var eh=i(589057),e_=i(676554),ep=i(851597);class em extends n.PureComponent{get isOwner(){let{board:e,viewerId:t}=this.props;return!!e&&e.owner?.id===t}get viewerRole(){let{board:e}=this.props;return this.isOwner?"owner":e&&e.collaborated_by_me?"collaborator":void 0}render(){let{board:e,deviceType:t,location:i}=this.props,r=(0,R.mB)(i.search),s=r.from_news_id,n=r.ideas_referrer;return e?!!e.should_show_more_ideas&&(0,Y.jsx)(B.Z,{auxData:{board_id:e.id,board_pin_count:e.pin_count??0,is_own_board:this.viewerRole&&"owner"===this.viewerRole,referrer:19,tab_title:e.name},component:13204,objectId:e.id,viewParameter:3173,children:(0,Y.jsx)(ep.Z,{name:"BoardContentRecommendationResource",options:{type:e.type,id:e.id,__track__from_news_id:s,__track__referrer:n},selector:t=>({recommendationFeed:t.feeds[`recommendation-feed:${e.id}`]?t.feeds[`recommendation-feed:${e.id}`].reduce((e,i)=>("story"===i.type&&(e=e.concat([t.stories[i.id]])),"pin"===i.type&&(e=e.concat([i])),e),[]):[]}),children:({selected:i,fetchMore:r,isFetching:s,refresh:n})=>{let{pins:l}=(i.recommendationFeed||[]).reduce(({pins:e},t)=>("pin"===t.type&&(e=e.concat([t])),{pins:e}),{pins:[]});return l.length?(0,Y.jsxs)(o.xu,{marginEnd:eo.G9,marginStart:eo.G9,marginTop:(0,eo.kk)({isDesktop:"desktop"===t}),children:[(0,Y.jsx)(eh.Z,{enabled:!0,onPull:()=>n(),refreshing:s}),s&&(0,Y.jsx)(o.xu,{paddingY:2,children:(0,Y.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading recommendations', 'homefeed.homefeedMoreIdeasTabContent.loadingSpinner', 'accessibility label for the loading spinner on more ideas tab'),show:s})}),(0,Y.jsx)(eu,{board:e}),(0,Y.jsx)(ea.default,{items:l,loadItems:r,minCols:2,renderItem:({data:e,itemIdx:t})=>{let{board:i}=this.props;return(0,Y.jsx)(e_.ZP,{componentType:0,duploOneTapSave:this.viewerRole&&i&&{boardId:i.id}||void 0,duploQueryRef:null,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,viewParameter:3173,viewType:1})}})]}):(0,Y.jsx)(o.xu,{paddingY:2,children:(0,Y.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('Loading recommendations', 'homefeed.homefeedMoreIdeasTabContent.loadingSpinner', 'accessibility label for the loading spinner on more ideas tab'),show:s})})}})}):null}}function ex(e){let{boardId:t}=e,i=(0,W.ZP)(),r=(0,j.ZP)(),{showToast:s}=(0,M.F9)(),{checkExperiment:n}=(0,k.F)(),o=(0,a.TH)(),d=(0,l.v9)(({boards:e})=>e),{id:c}=(0,O.Z)();return(0,z.Z)(n("hfp_nav_tabs_unity_mweb").anyEnabled?{name:"BoardResource",options:{field_set_key:"profile_grid_item",is_mobile_fork:!0,board_id:t}}:null),(0,Y.jsx)(em,{...e,board:d[t],deviceType:i,i18n:r,location:o,showToast:s,viewerId:c})}var eg=i(207229),ey=i(587703),ef=i(71328),eb=i(494125),ev=i(762631),ej=i(969300);let ew={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},eP={HOME:1,BOARD:2};function eS({currentTabIndex:e,tabBoards:t}){let i=(0,n.useRef)(null),r=(0,n.useRef)(!1),{width:s,height:d}=(0,eg.Z)()||{width:0,height:0},c=(0,n.useRef)([]),u=(0,a.k6)(),h=(0,j.ZP)(),_=(0,O.Z)(),{checkExperiment:p}=(0,k.F)(),m=p("m10n_measurement_pinterest_tag_us").anyEnabled,x=(0,ey.Z)(),g=(0,l.I0)(),y=(e,t)=>g((0,ej.r)(e,t)),f=t.length?[{href:"/",text:(0,Y.jsx)(o.xu,{children:h._('All', 'homefeed.moreIdeasTab.homefeedTab', 'Homefeed tab')}),tabType:eP.HOME},...t.filter(e=>e).map(({id:e,name:t},i)=>({href:`/?boardId=${String(e)}`,text:(0,Y.jsx)(o.xu,{dangerouslySetInlineStyle:ew,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:eP.BOARD,ref:c.current[i]}))]:null,b=e=>e===eP.HOME?11081:11082,v=(0,n.useRef)([]),w=(0,n.useCallback)(()=>{c&&c.current.length&&c.current.forEach((e,i)=>{if(e?.current){let{id:r,name:n}=t[i]||{},l=e.current.getBoundingClientRect();(0,ev.Z)({left:l.left,right:l.right,top:l.top,bottom:l.bottom,windowHeight:d,windowWidth:s})&&r&&!v.current.includes(r)&&(x({event_type:13,view_type:1,view_parameter:92,component:13184,element:b(eP.BOARD),object_id_str:r,aux_data:{board_id:r,tab_title:n,referrer:19}}),v.current.push(r))}})},[c,x,t,d,s]),P=(0,ef.Z)(()=>{w()},50);(0,eb.Z)(()=>{c.current=Array(t.length).fill().map((e,t)=>c.current[t]||(0,n.createRef)())}),(0,n.useEffect)(()=>{w();let e=i.current;return e&&e.addEventListener("scroll",P),()=>{e?.removeEventListener("scroll",P)}},[w,P]),(0,n.useEffect)(()=>(_.isAuth&&m&&window.pintrk&&window.pintrk("track","pagevisit",{lead_type:"Pinterest mobile homefeed",em:_.email}),()=>{r.current&&(window.cancelAnimationFrame(r.current),r.current=null)}));let S=e=>{let t=f?.[e];t&&(y(t.boardId,e),x({event_type:101,view_type:1,view_parameter:92,component:13184,element:b(t.tabType),aux_data:{index:e.toString(),board_id:t.boardId,referrer:19},object_id_str:t.boardId}))},A=e=>f?{pathname:(f[e]||f[0]).href,state:(f[e]||f[0]).locationState||void 0}:{};if(!f)return null;let T=f.map(e=>({href:e.href,text:e.text,ref:e.ref}));return(0,Y.jsx)(o.xu,{ref:i,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,Y.jsx)(o.mQ,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{S(e);let{pathname:t,state:i}=A(e);u.push(t,i)},tabs:T})})}var ek=i(407053),eA=i(464421),eT=i(844998),eC=i(990813),eI=i(386129);function ez(e){let{username:t,onDismiss:i}=e,r=(0,j.ZP)(),[s,a]=(0,n.useState)(!1),d=(0,l.I0)(),c=(0,ey.Z)();(0,eb.Z)(()=>{c({event_type:15047})});let u=[{key:"search",title:r._('Find ideas & inspiration', 'CoreActionsHeader.searchTitle', 'Title shows on the search card to encourage user to search'),buttonText:r._('Search', 'CoreActionsHeader.searchButtonText', 'Text shows on the search button of search card'),color:"#E3FAE1",href:"/search/?input_focus=true",tapHandler:()=>{c({event_type:15048})}},{key:"saved",title:r._('Browse your boards & Pins', 'CoreActionsHeader.viewSavedTitle', 'Title shows on the view saved card to encourage user to view saved boards & Pins'),buttonText:r._('View saved', 'CoreActionsHeader.viewSavedButtonText', 'Text shows on the view saved button of view saved card'),color:"#E6F4FF",href:`/${t}/`,tapHandler:()=>{c({event_type:15049})}},{key:"board_creation",title:r._('Start a new project', 'CoreActionsHeader.createBoardTitle', 'Title shows on the create board card to encourage user to create board'),buttonText:r._('Create board', 'CoreActionsHeader.createBoardButtonText', 'Text shows on the create board button of create board card'),color:"#F0EDFF",href:"/board/create/",tapHandler:()=>{c({event_type:15050})}}],h=r._('Dismiss', 'CoreActionsHeader.Dismiss', 'Button to dismiss core actions header');return(0,Y.jsx)(o.xu,{dangerouslySetInlineStyle:s?{__style:{transition:"transform 500ms ease-in-out, opacity 500ms ease-in-out, max-height 500ms ease-in-out, margin 500ms ease-in-out, padding 500ms ease-in-out",transform:"translateY(-144px)",opacity:0}}:{__style:{}},marginBottom:s?0:4,maxHeight:s?0:144,paddingY:s?0:2,children:(0,Y.jsx)(o.xu,{fit:!0,overflow:"scrollX",children:(0,Y.jsxs)(o.kC,{direction:"row",gap:1,children:[u.map(e=>(0,Y.jsx)(o.kC.Item,{children:(0,Y.jsx)(o.Tg,{href:e.href,onTap:e.tapHandler,tapStyle:"compress",children:(0,Y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e.color}},height:128,minWidth:144,rounding:4,children:(0,Y.jsxs)(o.xu,{height:"100%",padding:4,position:"relative",children:[(0,Y.jsx)(o.xu,{children:(0,Y.jsx)(o.xv,{color:"dark",size:"300",weight:"bold",children:e.title})}),(0,Y.jsx)(o.xu,{bottom:!0,marginBottom:4,position:"absolute",children:(0,Y.jsx)(o.Tg,{href:e.href,onTap:e.tapHandler,tapStyle:"compress",children:(0,Y.jsx)(o.xu,{color:"default",paddingX:3,paddingY:2,rounding:"pill",children:(0,Y.jsx)(o.xv,{size:"100",weight:"bold",children:e.buttonText})})})})]})})})},e.key)),(0,Y.jsx)(o.kC.Item,{children:(0,Y.jsx)(o.iP,{onTap:()=>{a(!0),c({event_type:15051}),setTimeout(()=>{d((0,eI.Q_)("USER_HAS_DISMISSED_CORE_ACTIONS_HEADER",1)),i()},600)},tapStyle:"compress",children:(0,Y.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#F9F9F9"}},height:128,minWidth:119,rounding:4,children:(0,Y.jsxs)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,Y.jsx)(o.xu,{marginEnd:1,children:(0,Y.jsx)(o.JO,{accessibilityLabel:h,color:"default",icon:"cancel",size:"12"})}),(0,Y.jsx)(o.xu,{children:(0,Y.jsx)(o.xv,{color:"dark",size:"100",weight:"bold",children:h})})]})})})})]})})})}var eZ=i(26353),eL=i(170568),eD=i(19447),eE=i(953879),eF=i(535252);i(167912);var eB=i(207012),eH=i(757850);let eM=void 0!==r?r:r=i(24102);function eR({pinKey:e}){let t=(0,eB.Z)(eM,e);if(!t)return null;let i=t.imageSpec_orig||t.imageSpec_736x||t.imageSpec_290x||t.imageSpec_236x;return(0,Y.jsx)(eH.Z,{description:t.description,imageHeight:i?.height||t.imageLargeSizePixels?.height,imageUrl:i?.url||t.imageLargeUrl,imageWidth:i?.width||t.imageLargeSizePixels?.width})}let eW=`
  .overflow-row {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }
`;function eO({onImageTap:e,onSeeMoreButtonClick:t,pins:i,shouldShowSeeMoreButton:r}){let s=(0,j.ZP)();return(0,Y.jsx)(o.xu,{marginBottom:8,paddingX:2,children:(0,Y.jsxs)(o.kC,{overflow:"scrollX",children:[(0,Y.jsx)(Q.Z,{unsafeCSS:eW}),i.map((t,r)=>(0,Y.jsx)(o.xu,{column:12,marginEnd:r===i.length?0:2,position:"relative",children:(0,Y.jsx)(o.zd,{rounding:4,children:(0,Y.jsx)(o.xu,{color:"darkWash",height:131,paddingX:4,position:"relative",width:98,children:(0,Y.jsx)(o.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{e(t.id)},children:(0,Y.jsx)(eR,{pinKey:{type:"deprecated",data:t}})})})})},t.id)),r&&(0,Y.jsx)(o.xu,{column:12,marginEnd:0,position:"relative",children:(0,Y.jsx)(o.zd,{rounding:4,children:(0,Y.jsx)(o.xu,{height:131,paddingX:4,position:"relative",width:98,children:(0,Y.jsx)(o.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,Y.jsx)(o.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,Y.jsx)(o.zx,{accessibilityLabel:s._('Button to see more pins', 'LandingPageStoryModule.SeeMoreButton.accessibilityLabel', 'accessibility label for button to see more related to current pin'),size:"sm",text:s._('See more', 'LandingPageStoryModule.SeeMoreButton', 'Button indicating that users can see more pins')})})})})})})]})})}let eU=void 0!==s?s:s=i(972172);function eN({copy:e,onDismissExperience:t,onImageTap:i,pinKey:r}){let s=(0,eB.Z)(eU,r),n=(0,j.ZP)(),{title_text:l,subtitle_text:a}=e||{},d=n._('Welcome!', 'LandingPageStoryModule.DefaultTitleText', 'Title Text in case one is not provided'),c=n._('Here\'s what brought you here, and below are other similar ideas', 'LandingPageStoryModule.DefaultSubtitleText', 'Subtitle Text in case one is not provided');return(0,Y.jsxs)(o.kC,{children:[!!s&&(0,Y.jsx)(o.xu,{display:"inlineBlock",height:60,marginEnd:3,marginTop:1,width:48,children:(0,Y.jsx)(o.zd,{rounding:3,children:(0,Y.jsx)(o.xu,{height:60,width:48,children:(0,Y.jsx)(o.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{i(s.entityId)},children:(0,Y.jsx)(eR,{pinKey:s})})})})}),(0,Y.jsxs)(o.xu,{display:"inlineBlock",children:[(0,Y.jsx)(o.X6,{align:"start",overflow:"normal",size:"400",children:l||d}),(0,Y.jsx)(o.xu,{marginTop:1,children:(0,Y.jsx)(o.xv,{align:"start",color:"subtle",overflow:"normal",size:"200",children:a||c})})]}),(0,Y.jsx)(o.xu,{marginTop:-1,position:"absolute",right:!0,top:!0,children:(0,Y.jsx)(o.hU,{accessibilityLabel:n._('Cancel icon', 'LandingPageStoryModule.CancelIcon.accessibilityLabel', 'accessibility label for cancel icon to dismiss this experience'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})})]})}let eq=({isMoreIdeasTabsVisible:e,newUserWelcomeStoryExperience:t,pins:i})=>{let r=(0,l.I0)(),s=(0,a.k6)(),d=(0,J.Am)(),c=(0,J.Ig)(),{placement_id:u,experience_id:h}=t;(0,n.useEffect)(()=>{r(c(u,h))},[r,u,h,c]);let[_,...p]=i,[m]=(0,z.Z)({name:"ApiResource",options:{url:`/v3/pins/${_.id}/search_recommendations/`,data:{limit:1,bubbles:!1}}}).data||[],x=m?m.display_title:"",g=e=>{s&&s.push(`/pin/${e}`)};return(0,Y.jsxs)(n.Fragment,{children:[(0,Y.jsx)(o.xu,{marginBottom:4,marginTop:e?4:8,paddingX:2,position:"relative",children:(0,Y.jsx)(eN,{copy:t.display_data.story?.copy,onDismissExperience:()=>r(d(u,h)),onImageTap:g,pinKey:{type:"deprecated",data:_}})}),(0,Y.jsx)(eO,{onImageTap:g,onSeeMoreButtonClick:()=>{s&&x&&s.push((0,eF.Tt)(x,"pins","landing_page_story"))},pins:p,shouldShowSeeMoreButton:!!x})]})};function eX({isMoreIdeasTabsVisible:e,newUserWelcomeStoryExperience:t}){let i=t.display_data,r=i?.story?.objects??[],s=(0,eD.S6)();return r.length?(0,Y.jsx)(eq,{isMoreIdeasTabsVisible:e,newUserWelcomeStoryExperience:t,pins:r.map(e=>s(e.id)||e)}):null}var e$=i(137842),eK=i(994629),eY=i(953565),eG=i(118923),eV=i(832853);function eJ(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let eQ=(0,n.lazy)(()=>Promise.all([i.e(47639),i.e(24698)]).then(i.bind(i,647639))),e0={feedKey:eZ.xJ,trafficSource:eZ.WV,resourceName:eZ.om,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},e1=()=>({includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,eD.AF)())}),e3=()=>{let e=(0,l.I0)(),t=(0,l.v9)(({feeds:e})=>e[eZ.xJ]),i=(0,l.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux);(0,n.useEffect)(()=>{t&&t.length>0&&i&&e((0,eL.H5)(!1))},[e,t,i])},e8=()=>{let{isGraphQLEnabledInGeneral:e}=(0,V.nF)(),{locale:t}=(0,I.B)(),i=(0,eD.AF)();return({feedItems:r,prevFeedItems:s,finishedRefresh:n,unauthLandingPinStateForAuthHomefeed:{pinId:l,feedItem:a}})=>{if(!r.length)return null;if(n&&s.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),i=e(s,5),n=e(r,5),l={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,eY.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:l}),JSON.stringify(i)===JSON.stringify(n)&&(0,eY.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:l})}if(l&&!e){if(s.length>0&&s[0]!==r[0])return(0,E.L_)(ek.zR),{feedItem:null,pinId:null};if((0===s.length||s[0]===r[0]&&s.length!==r.length||!a)&&i[l]&&!r.slice(0,5).some(({id:e})=>e===l))return{feedItem:{id:l,type:"pin",trackingParams:r[0].trackingParams},pinId:l}}return null}},e5=e=>{let{feedKey:t,feedItemProps:i,pullToRefresh:r}=e0,{webMobileHomeFeedTakoverExperience:s}=e,n=(0,a.TH)(),d=(0,a.k6)(),c=(0,a.$B)(),u=(0,l.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),{checkExperiment:h}=(0,k.F)(),_={...e,location:n,history:d,match:c},p=(0,l.v9)(({feeds:e})=>e[t]??[]),m=!u,x={...eZ.HH,...m?{first_page_size:"25",page_size:"10"}:{in_nux:u},in_local_navigation:h("hfp_nav_tabs_unity_mweb").anyEnabled},g=(0,z.Z)({name:eZ.om,options:x}),y=e1(),f=h("mweb_first_hf_load_in_nux_fix",{dangerouslySkipActivation:!0}).group||"";u&&f&&(0,eY.nP)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb",group:f}}),e3();let b=e8(),v=g.data?.length?g.data[0]:null;if(s&&s.display_data?.in_checklist_education&&s.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:v?.id&&(0,Y.jsx)(e$.Z,{storyId:v.id,children:e=>(0,Y.jsx)(eE.Z,{slotIndex:0,storyData:e,viewParameter:3833,viewType:604})})}},s=p.slice(1),{isAtEnd:n,isFetching:l,fetchMore:a,refresh:d}=g;return(0,Y.jsx)(o.xu,{"data-test-id":"homefeed",children:(0,Y.jsx)(es.Zt,{authHomefeedComponentDidUpdate:b,feedItemProps:i&&i(_),feedItems:s,feedItemsAdjustment:e,feedKey:t,pagination:{hasNext:!n,isLoadingNext:l,loadNext:()=>a(),refetch:()=>d()},pullToRefresh:r,trafficSource:eZ.WV,visuallyCompleteProfilerOptions:y})})}return m&&!s?.display_data?(0,Y.jsx)(o.xu,{"data-test-id":"homefeed-ssr",children:(0,Y.jsx)(es.iK,{authHomefeedComponentDidUpdate:b,feedItemProps:i&&i(_),feedKey:eZ.xJ,pullToRefresh:r,resource:g,serverRender:!0,trafficSource:eZ.WV,visuallyCompleteProfilerOptions:y})}):(0,Y.jsx)(o.xu,{"data-test-id":"homefeed",children:(0,Y.jsx)(es.iK,{authHomefeedComponentDidUpdate:b,feedItemProps:i&&i(_),feedKey:t,pullToRefresh:r,resource:g,trafficSource:eZ.WV,visuallyCompleteProfilerOptions:y})})},e2=(0,n.lazy)(()=>i.e(23690).then(i.bind(i,223690))),e9=(0,eV.Z)(()=>i.e(23690).then(i.bind(i,223690)),{ssr:!1}),e4=(0,n.lazy)(()=>i.e(18569).then(i.bind(i,618569))),e6=(0,eV.Z)(()=>i.e(18569).then(i.bind(i,618569)),{ssr:!1}),e7=(0,n.lazy)(()=>i.e(31819).then(i.bind(i,131819))),te=(0,eV.Z)(()=>i.e(31819).then(i.bind(i,131819)),{ssr:!1}),tt=(0,n.lazy)(()=>i.e(13346).then(i.bind(i,813346))),ti=(0,eV.Z)(()=>i.e(13346).then(i.bind(i,813346)),{ssr:!1}),tr=(0,n.lazy)(()=>i.e(99302).then(i.bind(i,799302))),ts=(0,eV.Z)(()=>i.e(99302).then(i.bind(i,799302)),{ssr:!1}),tn=(0,n.lazy)(()=>i.e(58838).then(i.bind(i,58838))),tl=(0,eV.Z)(()=>i.e(58838).then(i.bind(i,58838)),{ssr:!1});class ta extends n.PureComponent{constructor(...e){super(...e),eJ(this,"state",{...(0,eA.HW)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:el.e,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1}),eJ(this,"claimReferral",e=>{(0,H.My)("mweb.partner.referral.claim.attempt");let t=u.H.getData();d.Z.create("ReferralClaimResource",{referralCode:t,receiverUserId:e}).callUpdate().then(()=>{u.H.setSenderOfferClaimed(),(0,H.My)("mweb.partner.referral.claim.success"),this.props.showToast(({hideToast:e})=>(0,Y.jsx)(v.ZP,{duration:5e3,href:"/business/install_app",onHide:e,text:this.props.i18n._('You\u2019ve claimed an offer. Launch ads to get started.', 'business_hub.offer_toast.success', 'Toast indicating a referral offer was successfully claimed')}))}).catch(()=>{u.H.resetStatus(),(0,H.My)("mweb.partner.referral.claim.error"),this.props.showToast(({hideToast:e})=>(0,Y.jsx)(v.ZP,{duration:5e3,onHide:e,text:this.props.i18n._('Sorry, you don\u2019t qualify for this offer', 'business_hub.offer_toast.error', 'Toast indicating a referral offer could not be claimed'),type:"error"}))})}),eJ(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t,lazyComponentEnabled:i}=this.props,{extraPlpImages:r,extraBlpImages:s}=this.state,n=!t&&e&&504192===e.experience_id,l=n&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&n?(0,Y.jsx)(h.Z,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:l?(0,Y.jsx)(e=>i?(0,Y.jsx)(tl,{...e}):(0,Y.jsx)(Z.Z,{children:(0,Y.jsx)(tn,{...e})}),{experience:e,extraImageInfo:r.length>0?r:s,viewParameter:92,viewType:1}):(0,Y.jsx)(e=>i?(0,Y.jsx)(ti,{...e}):(0,Y.jsx)(Z.Z,{children:(0,Y.jsx)(tt,{...e})}),{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t}=e;return"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{currentUserId:e,dispatchViewedSharedPins:t,isPartner:i,location:r,pwtStaticContext:s,i18n:n,isAuthenticated:l,showToast:a,history:o}=this.props,{sharedPinData:d}=this.state;(0,eT.E)(!1),(0,c.Z)(),d&&Object.keys(d).length>0&&t(d),i&&e&&u.H.shouldClaimReferral()&&this.claimReferral(e),l&&(0,A.S$)({appLoadName:"home_feed_pinteractive",clientNavName:"home_feed_render"},s),r.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),r.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),r.state?.showError&&a(({hideToast:e})=>(0,Y.jsx)(v.ZP,{duration:5e3,onHide:e,text:n._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- '),type:"error"})),(0,R.mB)(r.search).show_yip_modal&&(o.replace("/"),this.setState({showYipModal:!0}))}render(){let{checkExperiment:e,currentUserId:t,currentUsername:i,everythingFeedExperience:r,history:s,i18n:l,isAuthenticated:a,isEligibleForCoreActionsHeader:d,isPartner:c,location:u,moreIdeasStory:b,newUserWelcomeStoryExperience:v,webMobileHomeFeedTakoverExperience:j,selectedTabBoardId:S,tabBoards:k,lazyComponentEnabled:A}=this.props,{currentTabIndex:T,showUnlinkTokenExpiredModal:C,showDeleteAccountSurveyModal:I,showYipModal:z,shouldDismissCoreActionsHeader:E}=this.state,F=(0,R.mB)(u.search),H=F&&F.boardId||S;if(r)switch(r.experience_id){case 40002:case 10105:return(0,Y.jsx)(h.Z,{name:"SafeSuspense_HomePage_Nux",children:(0,Y.jsx)(Z.Z,{fallback:(0,Y.jsx)(L.Z,{accessibilityLabel:this.props.i18n._('Loading new user education', 'Loading spinner', 'Loading spinner')}),children:c?(0,Y.jsx)(A?te:e7,{experience:r}):(0,Y.jsx)(A?e6:e4,{experience:r})})});case 500681:return(0,Y.jsx)(h.Z,{name:"SafeSuspense_HomePage_ContactUpdate",children:A?(0,Y.jsx)(e9,{fallback:(0,Y.jsx)(L.Z,{accessibilityLabel:this.props.i18n._('Loading experience', 'loading experience spinner', 'loading experience spinner')})}):(0,Y.jsx)(Z.Z,{fallback:(0,Y.jsx)(L.Z,{accessibilityLabel:this.props.i18n._('Loading experience', 'loading experience spinner', 'loading experience spinner')}),children:(0,Y.jsx)(e2,{})})})}let M=a&&e("mweb_hf_core_actions_header").anyEnabled&&d;return(0,Y.jsx)(U.Z,{viewParameter:92,viewType:1,children:(0,Y.jsx)(B.Z,{view:1,viewParameter:92,children:(0,Y.jsxs)(P.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[(0,Y.jsx)(en.Z,{text:l._('Home', 'HomePage.HiddenAccessibilityHeader', 'Accessibility h1 at home page')}),!!k?.length&&(0,Y.jsx)(w.FixedHeader,{hideOnScroll:a,noPadding:!0,overrideTop:0,children:(0,Y.jsx)(o.xu,{paddingY:1,children:(0,Y.jsx)(eS,{currentTabIndex:T,tabBoards:k||[]})})}),b&&(0,Y.jsx)(o.xu,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,Y.jsx)(e$.Z,{storyId:b.id,children:e=>(0,Y.jsx)(eE.Z,{slotIndex:0,storyData:e,viewParameter:92,viewType:1},b.id)})}),!!k&&!!k.length&&!!H&&T!==el.e&&(0,Y.jsx)(ex,{boardId:H})||(0,Y.jsxs)(n.Fragment,{children:[(0,Y.jsx)(x.Z,{experience:r}),(0,Y.jsx)(m.Z,{placementId:40001}),(0,Y.jsx)(g.Z,{experience:r}),(0,Y.jsx)(p.Z,{placementId:r?.placement_id}),(0,Y.jsx)(f.Z,{placementId:1000544}),(0,Y.jsx)(y.Z,{placementId:1000558}),(0,Y.jsx)(_.Z,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:r,children:(0,Y.jsx)(er,{experience:r})}),r&&(0,Y.jsx)(_.Z,{eligibleIds:[505326],experience:r,children:({complete:e,dismiss:t})=>(0,Y.jsx)(eC.Z,{complete:e,dismiss:t})}),r&&(0,Y.jsx)(_.Z,{eligibleIds:[505801],experience:r,children:({complete:e})=>(0,Y.jsx)(D.default,{complete:e})}),v?.display_data?.story&&v.display_data.showUpdatedLandingPageStory&&(0,Y.jsx)(eX,{isMoreIdeasTabsVisible:!!k?.length,newUserWelcomeStoryExperience:v}),(0,Y.jsxs)(o.xu,{marginTop:k?.length||b?0:2,children:[!E&&M&&(0,Y.jsx)(ez,{onDismiss:()=>{this.setState({shouldDismissCoreActionsHeader:!0})},username:i||""}),(0,Y.jsx)(e5,{webMobileHomeFeedTakoverExperience:j})]})]}),C&&(0,Y.jsx)(o.xu,{"data-test-id":"unlink-expired-token",children:(0,Y.jsx)(eK.default,{onDismiss:()=>{s.replace("/"),this.setState({showUnlinkTokenExpiredModal:!1})}})}),I&&(0,Y.jsx)(G,{isPartner:c,onDismiss:()=>{s.replace("/"),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:i}),z&&(0,Y.jsx)(h.Z,{name:"SafeSuspense_LoadingSpinner",children:A?(0,Y.jsx)(ts,{onModalDismiss:()=>{this.setState({showYipModal:!1})}}):(0,Y.jsx)(Z.Z,{children:(0,Y.jsx)(tr,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})})}),this.renderOptInInterestPicker()]})})})}}let to=[];function td(){let e;let t=(0,j.ZP)(),i=(0,l.I0)(),r=(0,O.Z)(),{showToast:s}=(0,M.F9)(),n=(0,C.Z)(),o=(0,a.k6)(),d=(0,a.TH)(),{checkExperiment:c}=(0,k.F)(),u="true"===(0,F.qn)("completedMiniRenux"),h=(0,b._)({id:40001,extraContext:u?{completed_mini_renux:u}:void 0,shouldUsePlacedExperience:!1}),_=(0,b._)({id:1000115}),p=(0,b._)({id:1000411}),m=(0,l.v9)(({feeds:e})=>e.homefeed),x=(0,l.v9)(({homefeedTabUI:e})=>e.activeTabBoardId),g=(0,l.v9)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:y,isLimitedLogin:f}=r,v=r.isAuth?r.id:void 0,w=r.isAuth?r.username:void 0,P=!!r.isAuth&&r.isPartner,A=(0,W.HG)(),I=Array.isArray(m)?m:[],L=!A&&I[0]&&"story"===I[0].type?I[0]:null,D=(0,l.v9)(({stories:e})=>L?e[L.id]:null),E=D&&D.story_type&&D.story_type.startsWith("boards_more_ideas_feed_upsell")?D:null,{data:B}=(0,z.Z)(c("hfp_nav_tabs_unity_mweb").anyEnabled?null:{name:"MoreIdeasTabsBoardsResource",options:{redux_normalize_feed:!0}});e=c("hfp_nav_tabs_unity_mweb").anyEnabled?I.find(({type:e})=>"home_feed_tabs"===e)?.tabs:B;let{data:H}=(0,z.Z)(y&&c("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:r.id,field_set_key:"core_actions_header"}}:null),R=(0,W.ml)(),U=(0,S.jr)(r),N=(0,eG.b)();return(0,Y.jsxs)(T.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:[U&&(0,Y.jsx)(Z.Z,{children:(0,Y.jsx)(eQ,{})}),(0,Y.jsx)(ta,{checkExperiment:c,currentUserId:v,currentUsername:w,dispatchViewedSharedPins:e=>i((0,eL.dz)(e)),everythingFeedExperience:h,history:o,i18n:t,isAuthenticated:y,isEligibleForCoreActionsHeader:H?.is_eligible_for_core_actions_header,isLimitedLogin:f,isMobile:R,isPartner:P,lazyComponentEnabled:N,location:d,moreIdeasStory:E,newUserWelcomeStoryExperience:p,pwtStaticContext:n,selectedTabBoardId:x,selectedTabIndex:g,showToast:s,tabBoards:e??to,webMobileHomeFeedTakoverExperience:_})]})}},26353:(e,t,i)=>{"use strict";i.d(t,{EP:()=>o,HH:()=>a,WV:()=>n,om:()=>l,xJ:()=>s});var r=i(288240);let s="homefeed",n="feed_home",l="UserHomefeedResource",a={field_set_key:"mobile_grid_item",prepend:!1},o=(0,r.Z)(a)},757850:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var r=i(883119),s=i(785893);function n({description:e,imageUrl:t,imageHeight:i,imageWidth:n}){return(0,s.jsx)(r.xu,{bottom:!0,left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:(0,s.jsx)(r.Ee,{alt:e??"",color:"#767676",fit:"cover",naturalHeight:i??1,naturalWidth:n??1,src:t??""})})}},969300:(e,t,i)=>{"use strict";i.d(t,{r:()=>r});let r=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},818853:(e,t,i)=>{"use strict";i.d(t,{Cb:()=>a,Jb:()=>o,Vp:()=>n,WR:()=>s,kb:()=>r,s:()=>l});let r=["recent_personal_searches","personal_query","board"],s=["shopping_spotlight","slp_immersive_header"],n=["shopping_spotlight","slp_immersive_header","slp_search_recommendation"],l=2,a=103,o=3467},535252:(e,t,i)=>{"use strict";i.d(t,{EE:()=>o,Tt:()=>a,hL:()=>n});var r=i(447479),s=i(818853);let n=(e,t)=>`/search/${t}/?rs=${r.i.RS}&len=2&q=${encodeURIComponent(e)}`,l=(e,t)=>e.reduce((e,i)=>{if(i){let r=t(i);e[r]=e[r]?e[r].concat(i):[i]}return e},{}),a=(e,t,i)=>`/search/${t}/?rs=${i}&q=${encodeURIComponent(e)}`,o=({scope:e,suggestions:t,tempSearchTerm:i,i18n:r})=>{let n=t?l(t,({type:e})=>e):{};return s.kb.map(t=>{let s=n[t]??[];return i&&"personal_query"===t&&(s.forEach(t=>{t.url=a(t.query,e,"ac")}),s.push({type:"generic_query",url:a(i,e,"ac"),label:r._('Your Pins', 'groupAndNormalizeSuggestions.suggestion.label.personal_query.lego', 'label for search suggestion to search personal results'),query:""})),{section:t,searchSuggestions:s}}).filter(({searchSuggestions:e})=>e)}},447749:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(667294),s=i(883119),n=i(930837),l=i(785893);function a({isOpen:e,onDismiss:t,type:i,textAlign:a,accessibilityModalLabel:o,heading:d,headingMarginTop:c,description:u,hasMultiLineDescription:h,primaryBtnParams:_,secondaryBtnParams:p,showDismissIcon:m,headingSize:x,closeOnOutsideClick:g}){let y=(e,t)=>e?(0,r.isValidElement)(e)?e:(0,l.jsx)(s.xu,{marginBottom:3,children:(0,l.jsx)(s.xv,{align:a||"center",children:e})},t?`description-line-${t}`:"single-description-line"):null;return(0,l.jsx)(n.ZP,{accessibilityModalLabel:o||"",closeOnOutsideClick:g||!0,isOpen:e,mobileHideCloseIcon:!0,onDismiss:t||(()=>{}),type:i||"",children:(0,l.jsxs)(s.xu,{padding:4,children:[(0,l.jsxs)(s.xu,{marginBottom:u?3:8,marginTop:c||0,children:[m&&t&&(0,l.jsx)(s.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"}),(0,l.jsx)(s.X6,{accessibilityLevel:1,align:a||"center",size:x||"500",children:d})]}),h&&Array.isArray(u)?u.map((e,t)=>y(e,t)):y(u),(0,l.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,l.jsx)(s.xu,{display:"flex",flex:"grow",justifyContent:"end",padding:1,children:(0,l.jsx)(s.zx,{accessibilityLabel:_.text,color:_.color,fullWidth:_.fullWidth??!0,onClick:_.onClick,size:"lg",text:_.text})}),p?(0,l.jsx)(s.xu,{flex:"grow",padding:1,children:(0,l.jsx)(s.zx,{accessibilityLabel:p.text,color:p.color,fullWidth:p.fullWidth??!0,onClick:p.onClick,size:"lg",text:p.text})}):null]})]})})}},953879:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Z});var r=i(667294),s=i(883119),n=i(510989),l=i(695238),a=i(608516),o=i(142763),d=i(4910),c=i(430602),u=i(545007),h=i(103322),_=i(140017),p=i(14583),m=i(984571),x=i(399837),g=i(742745),y=i(666472),f=i(659959),b=i(785893);function v({auxData:e,slotIndex:t,storyId:i,storyType:r,viewParameter:n,viewType:l}){let{action:a,display_options:o,objects:d,title:c}=(0,u.v9)(({stories:e})=>e[i]),h=o?.content_display?.component_type,_=e?.entered_query||"",p=(0,y.Z)({componentType:h||void 0,contextLogData:{entered_query:_,grid_index:t,story_id:i,story_type:r},impressionType:"Story",loggingId:i,slotIndex:t,viewParameter:n,viewType:l}),m=(0,u.v9)(({articles:e})=>d.map(t=>{switch(t.schema){case"article":return e[t.id];case"pin":return t;default:return null}}));return(0,b.jsxs)(s.xu,{ref:p,"data-test-id":"carousel-story",children:[c&&(0,b.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:(0,b.jsx)(s.xv,{weight:"bold",children:c.format})}),(0,b.jsx)(f.Z,{action:a,bubbles:m,component:h,query:_,storyId:i,storyType:r,viewParameter:n,viewType:l})]})}var j=i(56959);let w=(0,r.lazy)(()=>Promise.resolve().then(i.bind(i,734851))),P=["shop_tab_upsell","user_style_story_v2"];function S({auxData:e,slotIndex:t,storyId:i,storyType:r,trafficSource:n,viewParameter:l,viewType:a}){let o=(0,u.v9)(({stories:e})=>e[i]),d=(0,u.v9)(({articles:e})=>e),c=(0,_.ZP)(),{title:y,objects:f,description:S}=o,k=f[0]?.schema;if("user_style_story_v2"===r){let e={...o,objects:f.map(e=>d[e.id])};return(0,b.jsx)(h.Z,{name:"SafeSuspense_MobileApp_FullWidthStory_StructuredFeedStoryModule",children:(0,b.jsx)(p.Z,{fallback:(0,b.jsx)(s.kC,{alignItems:"center",height:225,justifyContent:"center",children:(0,b.jsx)(s.$j,{accessibilityLabel:c._('Loading styles for you', 'fullWidthStory.stylesForYou.loading', 'Loading indicator for a module that shows pins on different styles'),show:!0})}),children:(0,b.jsx)(w,{initialSlotIndex:t,story:e,storyKey:{type:"deprecated",data:e},view:1,viewParameter:l})})})}if(P.includes(r))return(0,b.jsx)(v,{auxData:e,slotIndex:t,storyId:i,storyType:r,viewParameter:l,viewType:a});if("search_story_landing_page_header"===r&&y)return(0,b.jsxs)(s.kC,{alignItems:"center",direction:"column",gap:2,children:[(0,b.jsx)(s.xv,{size:"500",weight:"bold",children:(0,m.Z)(y)}),S&&(0,b.jsx)(s.xv,{size:"200",children:(0,m.Z)(S)})]});switch(k){case"pin":return(0,b.jsx)(j.Z,{auxData:e,slotIndex:t,storyId:i,trafficSource:n,viewParameter:l,viewType:a});case"article":return(0,b.jsx)(g.Z,{auxData:e,pattern:[x.UG.extra_small],slotIndex:t,storyId:i,storyKey:{type:"deprecated",data:i},viewParameter:l,viewType:a});default:return y&&(0,b.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:(0,b.jsx)(s.xv,{weight:"bold",children:y.format})})}}var k=i(603171),A=i(493560),T=i(953565);let C=(0,r.lazy)(()=>Promise.resolve().then(i.bind(i,734851)));function I({auxData:e,slotIndex:t,trafficSource:i,viewParameter:l,viewType:u,storyData:h}){let{actionUrl:_,actionText:p,customProperties:m,displayOptions:x,experience:g,isFullWidthSearchStory:y,storyType:f,titleFormat:v,descriptionFormat:j,rawStoryData:w,storyId:P}=h;if((0,r.useEffect)(()=>{(0,T.nP)("webapp.graphql.pinStory",{sampleRate:.1,tags:{viewType:u,storyType:f}})},[u,f]),f===d.q&&m&&x){let{titleTextColor:e}=x;return(0,b.jsx)(o.Z,{actionType:m.actionType,avatarImageDetails:m.avatar_image_details??{},buttonAction:_??"",buttonText:p??"",descriptionText:j??"",descriptionTextCustomization:m.description_text_customization,examplePinImage:m.example_pin_image_details?.originals??{},experience:g??void 0,hideCompleteButton:m.hide_complete_button,imageAlt:m.image_alt,imageUrl:m.image,isFullWidth:!0,openNewTab:m.open_new_tab,titleText:v??"",titleTextColor:c.e[e],titleTextCustomization:m.title_text_customization})}return y?(0,b.jsx)(s.xu,{marginBottom:5,children:(0,b.jsx)(S,{auxData:e,slotIndex:t,storyId:P,storyType:f,trafficSource:i,viewParameter:l,viewType:u})}):f.startsWith("search_pinner_authority_hero")?(0,b.jsx)(k.Z,{exactMatch:!0,slotIndex:0,storyId:P}):f.startsWith("boards_more_ideas_feed_upsell")?(0,b.jsx)(s.xu,{marginBottom:4,children:(0,b.jsx)(n.Z,{name:"SafeSuspense_MobileApp_StructuredFeedStoryModule",children:(0,b.jsx)(a.Z,{children:(0,b.jsx)(C,{initialSlotIndex:t,story:w,storyKey:{type:"deprecated",data:w},view:1,viewParameter:l})})})}):null}let z=(0,l.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{let{action:t,custom_properties:i,display_options:r,experience:s,story_type:n,title:l,description:a}=e;return n?{actionText:t?.text,actionUrl:t?.url,customProperties:i,displayOptions:r?{titleTextColor:r.title_text_color}:null,experience:s,isFullWidthSearchStory:(0,A.Z)({storyType:n}),storyType:n,titleFormat:l?.format,descriptionFormat:a?.format,rawStoryData:e,storyId:e.id}:null}});function Z(e){return(0,b.jsx)(z,{input:{kind:"Legacy",data:e.storyData},children:({data:t})=>t&&(0,b.jsx)(I,{...e,storyData:t})})}},56959:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var r=i(545007),s=i(883119),n=i(587703),l=i(862249),a=i(939809),o=i(676554),d=i(19447),c=i(785893);function u({auxData:e,slotIndex:t,storyId:i,trafficSource:u,viewParameter:h,viewType:_}){let p=(0,n.Z)(),m=(0,d.AF)(),x=(0,r.v9)(({stories:e})=>e[i].objects.map(e=>m[e.id])),{action:g,story_type:y,title:f}=(0,r.v9)(({stories:e})=>e[i]),b={story_type:y,story_id:i,content_ids:x.map(({type:e,id:t})=>e+":"+t).join("|"),...e};return(0,c.jsx)(a.qS,{auxData:b,component:200,loggingId:i,objectIdStr:i,slotIndex:t,viewParameter:h,viewType:_,children:({impressionTrackerRef:e})=>(0,c.jsxs)(s.xu,{ref:e,children:[f&&(0,c.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:(0,c.jsx)(s.xv,{weight:"bold",children:f.format})}),(0,c.jsx)(s.kC,{wrap:!0,children:x.map(e=>(0,c.jsx)(s.kC.Item,{flexBasis:"50%",maxWidth:"50%",children:(0,c.jsx)(o.ZP,{auxData:b,componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:t,trafficSource:u,viewParameter:h,viewType:_})},e.id))}),g&&g.url&&(0,c.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:1,width:"100%",children:(0,c.jsx)(s.ZP,{accessibilityLabel:g.text,color:"gray",href:g.url,onClick:()=>{p({view_type:_,view_parameter:h,aux_data:b,event_type:102})},rel:(0,l.Z)(g.url)?"nofollow":void 0,size:"md",target:(0,l.Z)(g.url)?"blank":void 0,text:g.text})})]})})}},137842:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(545007);function s({children:e,storyId:t}){let i=(0,r.v9)(({stories:e})=>e[t]);return i&&e(i)}},659959:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var r=i(667294),s=i(883119),n=i(587703),l=i(887582),a=i(340523),o=i(676554),d=i(193163),c=i(623409),u=i(233731),h=i(939809),_=i(205841),p=i(399837),m=i(785893);function x({articleCreatorUserAvatar:e,articleCreatorUserName:t,backgroundColor:i,coverImageUrl:n,height:l,pwtTrackImageLoad:a,subtitle:o,title:d,width:c}){return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(s.xu,{height:l,width:c,children:(0,m.jsx)(s.Ee,{alt:"",color:i,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:a,role:"presentation",src:n})}),(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:p.aG.bubbleOverlay,height:l,left:!0,position:"absolute",top:!0,width:c}),(0,m.jsxs)(s.xu,{alignItems:"center",display:"flex",height:l,justifyContent:"center",marginTop:4,padding:8,position:"absolute",top:!0,width:c,children:[(0,m.jsxs)(s.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[o&&(0,m.jsx)(s.xv,{align:"center",color:"light",lineClamp:1,overflow:"normal",size:"300",children:o}),(0,m.jsx)(s.X6,{accessibilityLevel:1,align:"center",color:"light",lineClamp:3,overflow:"normal",size:"400",children:d})]}),!!t&&!!e&&(0,m.jsx)(s.xu,{bottom:!0,marginBottom:10,position:"absolute",children:(0,m.jsxs)(s.kC,{alignItems:"center",direction:"row",gap:{row:1,column:0},justifyContent:"center",children:[(0,m.jsx)(_.qE,{name:t,size:"xs",src:e}),(0,m.jsx)(s.xv,{align:"center",color:"light",lineClamp:1,overflow:"normal",size:"200",children:t})]})})]})]})}function g({auxData:e,bubble:t,height:i,immersiveHeader:l,onTouch:a,pwtSurfaceContext:o,referringSource:_,slotIndex:p,storyId:g,storyType:y,viewParameter:f,viewType:b}){let{article_creator_user:v,dominant_color_css:j,feed_source:w,id:P,image_urls:S,is_product_pin_feed:k,subtitle:A,title:T}=t,C=(0,n.Z)(),I=(0,c.Z)(),[z,Z]=(0,r.useState)();if(!T||!P||!S)return null;let L=(0,d.T7)(w??1,k??!1,T,P),D=()=>{I({action:"click",item:"search-suggestion"}),C({view_type:b,view_parameter:f,object_id_str:P,component:15035,event_type:102,aux_data:{grid_index:p,story_id:g,story_type:y,curated_board_id:P}}),a&&a({query:T})},E="100%";if(!z)return(0,m.jsx)(s.xu,{ref:e=>{e&&Z(e.offsetWidth*Number.parseFloat(i)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:Number.parseFloat(i)+"%",width:E}}});let F=()=>{o&&o.markConstraintComplete("RenderSearchLandingPageBubbles")};return(0,m.jsx)(h.PR,{auxData:{grid_index:p.toString(),story_id:g,story_type:y,curated_board_id:P,...e},component:15035,impressionData:{storyIdStr:g},loggingId:g,objectIdStr:g,slotIndex:p,viewParameter:f,viewType:b,children:({impressionTrackerRef:e})=>(0,m.jsx)(s.xu,{ref:e,"data-test-id":"search-suggestion-curated-board-bubble","data-test-type":_,overflow:"hidden",position:"relative",rounding:l?void 0:4,children:(0,m.jsx)(u.MZ,{isAppUpsellDisabled:!0,onTouch:D,to:L,children:(0,m.jsx)(x,{articleCreatorUserAvatar:v?.image_small_url,articleCreatorUserName:v?.full_name,backgroundColor:j??void 0,coverImageUrl:(S??[])[0],height:z,pwtTrackImageLoad:F,subtitle:A??"",title:T,width:E})})})})}var y=i(799648),f=i(140017),b=i(696534);let v=["#FFF8FA","#F8F7FF","#F7FBFF","#F7FDFC","#F6FDF5","#FFFEDB","#FFF6EB"];function j({backgroundColor:e,coverImageUrl:t,height:i,imgBackgroundColor:n,isDarkBackground:l,pwtTrackImageLoad:a,subtitle:o,title:d,width:c}){return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e||v[d.charCodeAt(0)%v.length]}},height:i,position:"relative",width:c,children:[(0,b.Yc)()&&(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:p.aG.bubbleOverlay,height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,m.jsx)(s.xu,{alignItems:"center",display:"flex",height:.6*i,justifyContent:"center",marginTop:8,padding:8,position:"absolute",top:!0,width:c,children:(0,m.jsxs)(s.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[o&&(0,m.jsx)(s.xv,{align:"center",color:l?"light":"dark",overflow:"normal",size:"300",children:o}),(0,m.jsx)(s.X6,{accessibilityLevel:1,align:"center",color:l?"light":"dark",overflow:"normal",size:"400",children:d})]})})]}),(0,m.jsx)(s.xu,{alignItems:"end",bottom:!0,display:"flex",height:.4*i,justifyContent:"center",marginBottom:-5,position:"absolute",width:c,children:t.slice(0,3).map((e,t)=>(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:p.aG.bubbleOverlay,height:1===t?"100%":"80%",marginStart:0!==t?-5:void 0,overflow:"hidden",rounding:4,width:1===t?"36%":"28.8%",zIndex:1===t?new s.Ry(1):void 0,children:(0,m.jsx)(s.Ee,{alt:"",color:n,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:a,role:"presentation",src:e})},`TripleImageBubble-${e}`))})]})}function w({auxData:e,bubble:t,height:i,onTouch:l,pwtSurfaceContext:a,referringSource:o,slotIndex:d,storyId:_,storyType:p,viewParameter:x,viewType:g}){let{action:y,cover_images:b,dominant_colors:v,id:w,title:P}=t,S=(0,n.Z)(),k=(0,c.Z)(),[A,T]=(0,r.useState)(),C=(0,f.ZP)(),I=P?.format,z=y?.url,Z=b?.map(e=>e["474x"]?.url??"");if(!I||!w||!Z||!z)return null;let L=()=>{k({action:"click",item:"search-suggestion"}),S({view_type:g,view_parameter:x,object_id_str:w,event_type:102,aux_data:{grid_index:d,story_id:_,story_type:p}}),l&&l({query:I})},D="100%";if(!A)return(0,m.jsx)(s.xu,{ref:e=>{e&&T(e.offsetWidth*Number.parseFloat(i)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:Number.parseFloat(i)+"%",width:D}}});let E=()=>{a&&a.markConstraintComplete("RenderSearchLandingPageBubbles")};return(0,m.jsx)(h.fv,{auxData:{grid_index:d.toString(),story_id:_,story_type:p,...e},component:13865,impressionData:{storyIdStr:_},loggingId:_,objectIdStr:_,slotIndex:d,viewParameter:x,viewType:g,children:({impressionTrackerRef:e})=>(0,m.jsx)(s.xu,{ref:e,"data-test-id":"search-suggestion","data-test-type":o,position:"relative",children:(0,m.jsx)(u.MZ,{isAppUpsellDisabled:!0,onTouch:L,to:z,children:(0,m.jsx)(j,{coverImageUrl:Z,height:A,imgBackgroundColor:v?.[1],pwtTrackImageLoad:E,subtitle:C._('Ideas for you', 'immersiveHeader.exploreArticle.subtitle', 'Ideas for you bubble\'s title in immersive header'),title:I,width:D})})})})}function P({bubble:e,font:t,height:i,width:r="100%",onTouch:s}){let{id:n,url:l,title:a,dominant_color_css:o,image_urls:d,buttonText:c}=e;return a&&n&&d?(0,m.jsx)(p.ZP,{backgroundColor:o??void 0,bubbleId:n,bubbleUrl:l,buttonFormat:{text:c,accessibilityLabel:c,href:l,size:"md"},contentAlign:"start",coverImageUrl:d[0],font:t,format:"interest",height:i,onTap:()=>s&&s({query:a}),textAlign:"start",title:a,width:r}):null}var S=i(214877),k=i(666472);function A({bubble:e,component:t,height:i,slotIndex:n,storyId:l,storyType:a,viewParameter:o,viewType:d}){let{logContextEvent:c}=(0,S.v)(),[u,h]=(0,r.useState)("string"==typeof i?void 0:i),{action:_,aux_fields:p,cover_images:x,dominant_colors:g,title:y,id:f}=e,b=(0,k.Z)({componentType:t??void 0,contextLogData:{story_type:a},impressionType:"Article",loggingId:f,slotIndex:n,viewParameter:o,viewType:d});if(!u)return(0,m.jsx)(s.xu,{ref:e=>{e&&h(e.offsetWidth*("string"==typeof i?Number.parseFloat(i):100)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof i?Number.parseFloat(i)+"%":"100%"}},width:"100%"});if(!x||x.length<=0||!y)return null;let{button_background_color:v,button_text_color:j}=p,w=x.slice(0,2).map(e=>(e["474x"]||e["236x"])?.url);return(0,m.jsx)(s.Tg,{href:_?.url??"",onTap:()=>{c({aux_data:{story_id:l,story_type:"user_style_story_v2"},component:200,event_type:102,view_parameter:o,view_type:d})},rounding:4,children:(0,m.jsxs)(s.xu,{ref:b,alignItems:"center",display:"flex",height:u,justifyContent:"center",overflow:"hidden",position:"relative",rounding:4,width:"100%",children:[(0,m.jsx)(s.kC,{width:"100%",children:w.map((e,t)=>(0,m.jsx)(s.zd,{height:u,wash:!0,width:2===w.length?"50%":"100%",children:(0,m.jsx)(s.Ee,{alt:"",color:(g??[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e??""})},t))}),(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,m.jsx)(s.xv,{align:"center",weight:"bold",children:(0,m.jsx)("p",{style:{color:j,margin:"0"},children:y.format})})})]})})}function T({height:e,pwtTrackImageLoad:t,subtitle:i,title:n,videoUrl:l,width:a}){return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(s.xu,{height:e,width:a,children:(0,m.jsx)(s.nk,{aspectRatio:1,autoplay:!0,controls:!1,loop:!0,objectFit:"cover",onPlay:()=>{},onPlayError:()=>{},onReady:t,playsInline:!0,src:l})}),(0,m.jsx)(s.xu,{alignItems:"end",display:"flex",height:e,justifyContent:"center",padding:12,position:"absolute",top:!0,width:a,children:(0,m.jsxs)(s.kC,{alignItems:"stretch",direction:"column",gap:{row:0,column:1},justifyContent:"start",children:[i&&(0,m.jsx)(s.xv,{align:"center",color:"light",lineClamp:1,overflow:"normal",size:"300",children:i}),(0,m.jsx)(s.X6,{accessibilityLevel:1,align:"center",color:"light",lineClamp:3,overflow:"normal",size:"400",children:n})]})})]})}function C({auxData:e,bubble:t,height:i,immersiveHeader:l,onTouch:a,pwtSurfaceContext:o,referringSource:_,slotIndex:p,storyId:g,storyType:y,viewParameter:f,viewType:b}){let v;let{article_creator_user:w,display_color:P,dominant_color_css:S,feed_source:k,has_dark_display_color:A=!1,id:C,image_urls:I,is_product_pin_feed:z,is_video_cover:Z,subtitle:L,title:D,video_urls:E}=t,F=(0,n.Z)(),B=(0,c.Z)(),[H,M]=(0,r.useState)();if(!D||!C)return null;let R=Z&&E&&E[0];if(R){if(!(v=(E??[]).find(e=>e&&e.endsWith(".mp4"))))return null}else if(!I)return null;let W=(0,d.T7)(k??1,z??!1,D,C),O=z?13865:13525,U=()=>{B({action:"click",item:"search-suggestion"}),F({view_type:b,view_parameter:f,object_id_str:C,component:O,event_type:102,aux_data:{grid_index:p,story_id:g,story_type:y,today_article_id:C}}),a&&a({query:D})},N="100%";if(!H)return(0,m.jsx)(s.xu,{ref:e=>{e&&M(e.offsetWidth*Number.parseFloat(i)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:Number.parseFloat(i)+"%",width:N}}});let q=()=>{o&&o.markConstraintComplete("RenderSearchLandingPageBubbles")},X=I&&I.length>=3?(0,m.jsx)(j,{backgroundColor:P,coverImageUrl:I,height:H,imgBackgroundColor:S??void 0,isDarkBackground:A,pwtTrackImageLoad:q,subtitle:L??"",title:D,width:N}):(0,m.jsx)(x,{articleCreatorUserAvatar:w?.image_small_url,articleCreatorUserName:w?.full_name,backgroundColor:S??void 0,coverImageUrl:(I??[])[0],height:H,pwtTrackImageLoad:q,subtitle:L??"",title:D,width:N});return(0,m.jsx)(h.Y4,{auxData:{grid_index:p.toString(),story_id:g,story_type:y,today_article_id:C,...e},component:O,impressionData:{storyIdStr:g},loggingId:g,objectIdStr:g,slotIndex:p,viewParameter:f,viewType:b,children:({impressionTrackerRef:e})=>(0,m.jsx)(s.xu,{ref:e,"data-test-id":"search-suggestion-today-bubble","data-test-type":_,overflow:"hidden",position:"relative",rounding:l?void 0:4,children:(0,m.jsx)(u.MZ,{isAppUpsellDisabled:!0,onTouch:U,to:W,children:R?(0,m.jsx)(T,{height:H,pwtTrackImageLoad:q,subtitle:L??"",title:D,videoUrl:v??"",width:N}):X})})})}function I({action:e,bubbles:t,component:i,format:d,onTouch:c,pwtSurfaceContext:u,query:h,referringSource:_,storyId:p,storyType:x,viewParameter:f,viewType:b}){let v,j;let S=t.map(({type:e,id:t})=>`${e??""}:${t??""}`).join("|"),k="slp_immersive_header"===x,T="user_style_story_v2"===x,I="shop_tab_upsell"===x,z="interest"===t[0].type,{windowWidth:Z}=(0,l.Z)(),L=k?Z:Z-32,D=k?"100%":"75%",E=I?"50%":"100%",F=(0,n.Z)(),B=(0,r.useRef)(),H=(0,r.useRef)(),[M,R]=(0,r.useState)(0),[W,O]=(0,r.useState)(k||z),[U,N]=(0,r.useState)(4e3),q=(0,r.useMemo)(()=>new Set,[]),{checkExperiment:X}=(0,a.F)(),$=X("mweb_curated_articles_to_board_shift").anyEnabled,K=t.reduce((r,n,l)=>{let{type:a,schema:v}=n,j=null;switch(a||v){case"explorearticle":j=k?(0,m.jsx)(w,{auxData:{content_ids:S,story_type:x},bubble:n,height:D,onTouch:c,pwtSurfaceContext:u,referringSource:_,slotIndex:l,storyId:p,storyType:x,viewParameter:f,viewType:b}):T?(0,m.jsx)(A,{bubble:n,component:i,height:D,slotIndex:l,storyId:p,storyType:x,viewParameter:f,viewType:b}):(0,m.jsx)(y.Bp,{auxData:{content_ids:S,story_type:x},bubbleData:(0,y.VM)(n),format:d,height:D,onTouch:c,pwtSurfaceContext:u,referringSource:_,slotIndex:l,storyId:p,viewParameter:f,viewType:b});break;case"todayarticle":n.is_video_cover&&q.add(l),j=(0,m.jsx)(C,{auxData:{content_ids:S,story_type:x},bubble:n,height:D,immersiveHeader:k,onTouch:c,pwtSurfaceContext:u,referringSource:_,slotIndex:l,storyId:p,storyType:x,viewParameter:f,viewType:b});break;case"interest":j=(0,m.jsx)(P,{bubble:n,font:"md",height:"65%",onTouch:c});break;case"pin":j=l===t.length-1&&e?(0,m.jsx)(s.Tg,{href:e.url,onTap:()=>{F({view_type:b,view_parameter:f,component:i,element:179,event_type:102,aux_data:{content_ids:S,entered_query:h,grid_index:l,story_type:x}})},rounding:4,children:(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},position:"relative",children:[(0,m.jsx)(s.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(o.ZP,{auxData:{content_ids:S,entered_query:h,grid_index:l,story_type:x},componentType:i||14026,duploIsSquarePin:!0,duploQueryRef:null,imageOnlyOption:"image-only",pinId:n.id,slotIndex:l,viewParameter:f,viewType:b})}),(0,m.jsx)(s.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,m.jsx)(s.zx,{accessibilityLabel:e.text,size:"sm",text:e.text})})]})}):(0,m.jsx)(o.ZP,{auxData:{content_ids:S,entered_query:h,grid_index:l,story_type:x},componentType:i||14026,duploIsSquarePin:!0,duploQueryRef:null,pinId:n.id,slotIndex:l,trafficSource:"shop_feed",viewParameter:f,viewType:b});break;case"curatedboard":j=$?(0,m.jsx)(g,{auxData:{content_ids:S,story_type:x},bubble:n,height:D,immersiveHeader:k,onTouch:c,pwtSurfaceContext:u,referringSource:_,slotIndex:l,storyId:p,storyType:x,viewParameter:f,viewType:b}):null}return j?[...r,(0,m.jsx)(s.xu,{ref:0===l?H:void 0,flex:"none",paddingX:k?void 0:1,width:E,children:j},`bubble-${n.id??""}`)]:r},[]),Y=K.length;return(0,r.useEffect)(()=>{q.has(M)&&t[M].video_duration?N(Math.min(1e4,t[M].video_duration)):N(4e3)},[M,t,q]),(0,r.useEffect)(()=>{let e;let t=B.current,i=H.current;if(!t)return;let r=e=>{t.scrollTo({top:0,left:e,behavior:"smooth"})},s=()=>{clearTimeout(e),O(!1),setTimeout(()=>{let e=-(i?.getBoundingClientRect().left??0),t=Math.floor(((e=k?e:e+16)+L/2)/L);r(t!==Y-1||k?t*L:t*L-4),R(t)},500)},n=()=>{let t=M===Y-1?0:M+1;r(t*L),R(t),e=setTimeout(n,U)};return t.addEventListener("touchend",s),W&&(e=setTimeout(n,U)),()=>{clearTimeout(e),t.removeEventListener("touchend",s)}}),k||(v=z?3:4,j=3),(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(s.xu,{marginEnd:-4,marginStart:-4,overflow:"hidden",width:"100vw",children:(0,m.jsx)(s.xu,{ref:B,"data-test-id":`carousel-bubble-wrapper-${x}`,display:"flex",marginBottom:-2,overflow:"scrollX",paddingX:v,paddingY:j,children:K})}),(k||z)&&(0,m.jsx)(s.xu,{marginBottom:-2,marginTop:2,position:"relative",children:(0,m.jsx)(s.kC,{alignItems:"center",direction:"row",gap:{row:2,column:0},justifyContent:"center",children:[...Array(Y).keys()].map(e=>(0,m.jsx)(s.xu,{color:M===e?"tertiary":"lightWash",height:6,rounding:"circle",width:6},`indicator-dot-${e}`))})})]})}},994629:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var r=i(883119),s=i(930837),n=i(140017),l=i(339001),a=i(702497),o=i(785893);function d({onDismiss:e}){let t=(0,n.ZP)();return(0,o.jsx)(s.ZP,{accessibilityModalLabel:"",isOpen:!0,onDismiss:e,type:"unlink_expired_token",children:(0,o.jsxs)(r.xu,{direction:"column",display:"flex",margin:6,children:[(0,o.jsx)(r.xu,{marginTop:2,children:(0,o.jsx)(r.X6,{align:"center",size:"500",children:t._('This link is invalid', 'unlinkExpiredToken.modal.title', 'Unlink Account expired link modal title')})}),(0,o.jsx)(r.xu,{marginBottom:3,marginTop:3,children:(0,o.jsx)(r.xv,{align:"center",inline:!0,children:(0,l.nk)(t._('Go into your {{accountSettings}} to send a new link to your inbox and finish unlinking your accounts.', 'unlinkExpiredToken.modal.description', 'Unlink Account expired link modal description'),{accountSettings:(0,o.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,o.jsx)(r.rU,{display:"inlineBlock",href:a.iDH,tapStyle:"none",underline:"hover",children:t._('Account settings', 'addSecondaryAccount.convertAccountUpsell.accountSettingsLink', 'Link to Account Settings')},"link")},"link-text")})})}),(0,o.jsx)(r.xu,{display:"flex",justifyContent:"center",marginBottom:4,children:(0,o.jsx)(r.zx,{color:"red",onClick:e,size:"lg",text:t._('Close', 'unlinkExpiredToken.modal.button', 'Close button on unlink account expired link modal')})})]})})}},259479:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=i(768141).Z},904005:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r}),i(667294);let r=i(768141).Z}},e=>{var t=t=>e(e.s=t);e.O(0,[97270,83119,24797,55169,76594,11930,21876,45170,60588,63668,77305,50257,33731,34851,32786,84245,3642,52284,64604,53923,36027,40402,58830],()=>(t(463608),t(919479))),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/index-4b9d4816bd3a3340.mjs.map